{"posts":[{"title":"Hexo Icarus æ¶ç«™ç´€éŒ„","text":"å‰è¨€é–‹å§‹ç¿’æ…£äº† Markdown å¯«æ–‡ä»¶å¾Œï¼Œè¶Šä¾†è¶Šè¦ºå¾— Medium ä¸é©åˆç”¨ä¾†æ•´ç†æŠ€è¡“ç­†è¨˜ï¼Œé‚„æ˜¯å¦å°‹ç©ºé–“ï¼Œä¸¦çµ‚æ–¼åœ¨ 2025 åˆç”¨ Hexo æ¶äº†è‡ªå·±çš„ blogã€‚ Hexo æœ‰å¾ˆå¤šé–‹æºä¸»é¡Œï¼ŒåŸå…ˆæˆ‘æ˜¯ç„¡è…¦è·Ÿè‘— èƒ¡ç«‹ä½¿ç”¨ Minos é€™å€‹ä¸»é¡Œï¼Œä½†å¾Œä¾†ç™¼ç¾å®‰è£éç¨‹å‡ºç¾å•é¡Œï¼Œä¸” Minos çš„ GitHub ä¹Ÿåœ¨ 2022 å¹´é€²å…¥ read-only ç‹€æ…‹ï¼Œä¸é–‹æ”¾æ issueï¼Œæ±ºå®šè½‰å‘å…¶ä»–é‚„åœ¨ç¶­è­·ä¸­çš„ themeã€‚ ç›®å‰æœ€ç†±é–€çš„ Hexo ä¸»é¡Œé™¤äº† NexT ä»¥å¤–ï¼Œä¹Ÿçœ‹åˆ°æœ‰äººåœ¨æ¨è–¦ä½¿ç”¨ Icarusã€‚å¾Œè€…çš„æ˜Ÿæ˜Ÿæ•¸æ²’æœ‰ NexT é‚£éº¼é«˜ï¼Œä»¥é †çœ¼ç¨‹åº¦ä¾†èªªæˆ‘é‚„æ˜¯é¸æ“‡äº† Icarusã€‚ æµç¨‹æ¥ä¸‹ä¾†ç´€éŒ„æˆ‘çš„æ¶ç«™éç¨‹ã€‚è«‹è¨˜å¾—ç”¨ node -v, npm -v è·Ÿ git æª¢æŸ¥å·¥å…·æ˜¯å¦å·²ç¶“å®‰è£å¥½ï¼Œå†é€²è¡Œå¾ŒçºŒæ­¥é©Ÿã€‚ 1. å®‰è£ Hexo1-1. å…¨å±€å®‰è£ hexo-cli1npm install -g hexo-cli ğŸ’¡ æç¤º:Mac ä½¿ç”¨è€…å¯ä»¥ç”¨ npm list -g --depth=0 çœ‹åˆ°å·²ç¶“è¢«å…¨å±€å®‰è£ã€‚ 1-2. å®‰è£ Hexoå°‡ &lt;folder&gt; æ›æˆè‡ªå·±æƒ³è¦çš„åç¨±ï¼š 123hexo init &lt;folder&gt;cd &lt;folder&gt;npm install 1-3. æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆç”¨ hexo server æˆ– hexo s ä¸¦åˆ° http://localhost:4000 æª¢æŸ¥ï¼Œç•¶çœ‹åˆ°é è¨­çš„ç¶²ç«™é…ç½®ï¼Œä»£è¡¨å®‰è£å®Œæˆã€‚ 2. æ¨é€è‡³é ç«¯ Git Repoåˆ°é€™ç‚ºæ­¢ï¼Œå¯ä»¥åœ¨ GitHub å»ºç«‹å€‹äºº repo ä¸¦ä¸”æ¨é€ã€‚å¿…é ˆè¨­ç‚ºå…¬é–‹æ‰èƒ½åŠ å…¥ Discussion ç•™è¨€ç‰ˆåŠŸèƒ½ã€‚ 3. å®‰è£ Icarus ä¸»é¡ŒIcarus å®˜æ–¹ Blog â€œGetting Started with Icarusâ€ (ä¸­æ–‡ç‰ˆ) æä¾›å…©ç¨®å®‰è£æ–¹å¼: Install from source æˆ– Install via NPMã€‚ æˆ‘æ¯”è¼ƒæ¨è–¦ç”¨ Install from source (git clone)ï¼Œå› ç‚ºå¤§éƒ¨åˆ†çš„ Blog æ•™å­¸éƒ½æ˜¯ä»¥é€™å€‹ç‚ºåŸºç¤ä¾†åšé…ç½®ã€‚è‹¥ä½¿ç”¨ npm installï¼ŒIcarus æœƒè¢«ç•¶ä½œ NPM package ä¾†å®‰è£ï¼Œè³‡æ–™å¤¾çµæ§‹æœƒé•·å¾—è·Ÿ git clone ä¸å¤ªä¸€æ¨£ï¼Œç™¼ç”Ÿå•é¡Œä¹Ÿæ¯”è¼ƒå°‘è³‡æºå¯ä»¥æŸ¥è©¢ã€‚ 3-1. ä½¿ç”¨ Install from sourceå®˜æ–¹éƒ¨è½æ ¼æœ‰ä»‹ç´¹å…©ç¨®æ–¹æ³•ï¼Œé¸ä¸€ç¨®ä½¿ç”¨å°±å¥½äº†ã€‚ æ–¹æ³•ä¸€ï¼šç¨ç«‹çš„ repo ï¼ˆæˆ‘æ˜¯é¸é€™å€‹ï¼‰ 1git clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus --depth 1 ğŸ’¡ æç¤º: è‹¥æŒ‡å®šç‰ˆæœ¬ï¼Œå¯ä½¿ç”¨ -b &lt;version number&gt;ï¼Œä¸æŒ‡å®šå°±æ˜¯ latest ç‰ˆæœ¬ã€‚ --depth 1 ä»£è¡¨åªä¸‹è¼‰æœ€æ–°çš„ commitï¼Œä¸åŒ…å«å®Œæ•´çš„ commit æ­·å²ã€‚ ä½¿ç”¨é€™å€‹æ–¹æ³•å¾Œï¼Œé ˆé€é git rm --cached themes/icarus ç§»é™¤åµŒå¥—çš„ git repoï¼Œä¹‹å¾Œä½¿ç”¨ git add . æ‰ä¸æœƒå‡ºç¾éŒ¯èª¤è¨Šæ¯ã€‚ æ–¹æ³•äºŒï¼šåŠ å…¥ç‚º submodule 1git submodule add https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus ğŸ’¡ æç¤º:åŠ å…¥å¾Œï¼Œä½¿ç”¨ git submodule status å¯ä»¥çœ‹åˆ°å­æ¨¡çµ„çš„è³‡è¨Šã€‚ 3-2. è¨­å®š theme1hexo config theme icarus ğŸ’¡ æç¤º:é€™è·Ÿæ‰‹å‹•æ›´æ”¹æ ¹è³‡æ–™å¤¾ä¸­çš„ _config.yml ä¸­çš„ theme: icarus æ˜¯ä¸€æ¨£çš„æ„æ€ã€‚ 3-3. ä½¿ç”¨ hexo generate &amp;&amp; hexo server æª¢æŸ¥å®‰è£æˆåŠŸ ğŸ’¡ å®‰è£éç¨‹ä¸­æœ‰é‡åˆ°å•é¡Œ:è¦‹é€™ç¯‡ GitHub Discussion","link":"/2025/03/01/How-to-create-a-Hexo-Icarus-Blog/"},{"title":"ç”¨ Vue Directive ç®¡ç†è§’è‰²æ¬Šé™","text":"å‰è¨€æœ€è¿‘åœ¨å°ˆæ¡ˆé‡åˆ°çš„éœ€æ±‚æ˜¯ä¾ç…§è§’è‰²åˆ†é…ä¸åŒæ¬Šé™ï¼Œä¸¦ä¾ç…§æ¬Šé™é¡¯ç¤ºç›¸æ‡‰åŠŸèƒ½ã€‚ role çš„å€¼æ˜¯åœ¨ login å¾Œï¼Œå¾å¾Œç«¯å›å‚³ response å–å¾—ä¸¦å­˜åœ¨ localStorageï¼Œç”¨ Store ä¾†ç®¡ç†è§’è‰²ç‹€æ…‹ã€‚ åŸæœ¬æˆ‘æ˜¯åœ¨é é¢ä¸Šä½¿ç”¨ computed ä¾†åŠæ™‚å¾ store ç²å¾—è§’è‰²å€¼ï¼Œç„¶å¾Œå†ç”¨ v-if æ§åˆ¶æ˜¯å¦é¡¯ç¤ºã€‚ä½†å¾Œä¾†ç™¼ç¾æ›´å¥½çš„å¯«æ³•ï¼æ–¼æ˜¯åšæ­¤ç´€éŒ„ã€‚å¦‚æœæœ‰æœ‹å‹æœ‰æ›´å¥½çš„åšæ³•æ­¡è¿åˆ†äº«~ å‚™è¨»: ä»¥ä¸‹ç¨‹å¼ç¢¼éƒ½ç¶“éè™•ç†ï¼Œæ²’æœ‰ç›´æ¥å°‡å°ˆæ¡ˆç¨‹å¼ç¢¼è¤‡è£½è²¼ä¸Šã€‚åªæ˜¯è¦å‚³é”åšæ³•ï¼Œè«‹ä¾ç…§å„è‡ªå°ˆæ¡ˆå†å»é…ç½®ã€‚ åŸæœ¬çš„æ–¹æ³•: v-if åœ¨ userStore é€é localStorage å­˜å– Role è§’è‰²: 123456789101112import { computed, ref } from &quot;vue&quot;;import { defineStore } from &quot;pinia&quot;;export const useUserStore = defineStore(&quot;user&quot;, () =&gt; { /** ä½¿ç”¨è€…è³‡è¨Š */ const userInfo = ref({ role: localStorage.getItem(&quot;userRole&quot;) || &quot;&quot;, }); return { isLoggedIn, userInfo };}); åœ¨ utils å»ºç«‹ hasRole æ–¹æ³•: 12345678910import { storeToRefs } from 'pinia';import { useUserStore } from '@/store/modules/user';const userStore = useUserStore();const { userInfo } = storeToRefs(userStore);export const hasRole = (role: Role): boolean =&gt; { const userRole = userInfo.value.role; return role === userRole;}; åœ¨ views å¼•å…¥ hasRole æ–¹æ³•ï¼Œåˆ¤æ–·æ˜¯å¦ç‚ºæŸè§’è‰²ï¼Œtemplate å€åŸŸç”¨ v-if ä¾†æ±ºå®šé¡¯ç¤ºè©²çµ„ä»¶é¡¯ç¤ºèˆ‡å¦ã€‚ 12345678910&lt;template&gt; &lt;MyButton v-if='!isPM'&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import { computed } from 'vue';import { hasRole } from '@/utils/role';const isPM = computed(() =&gt; hasRole('PM'));&lt;/script&gt; ç¼ºé» å¦‚æœå¤šå‡ºä¸€å€‹è§’è‰²ï¼Œå°±è¦å†å¯«ä¸€å€‹ computedã€‚è§’è‰²ç®¡ç†å››æ•£åœ¨ä¸åŒçš„ views æª”æ¡ˆä¸­ã€‚ v-if å¯«æ³•è¼ƒç„¡åˆ¤åˆ¥æ€§ï¼Œé›£ä»¥å³æ™‚æ’æŸ¥ã€‚ ä½¿ç”¨ Directive å¯«æ³•é™¤äº† Vue åŸæœ¬æä¾›çš„ v-if, v-show ç­‰ä½œæ³•ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥è‡ªå·±å®šç¾© v- èªæ³•ã€‚ ä»€éº¼æƒ…å¢ƒé©åˆ è™•ç†é‡è¤‡çš„å·¥ä½œï¼Œä¾‹å¦‚æˆ‘åœ¨ä¸åŒçµ„ä»¶ä¸Šè¦ä¾ç…§è§’è‰²é¡¯ç¤ºåŠŸèƒ½ å¯å…¨å±€è¨»å†Šä¸¦å¥—ç”¨åœ¨ DOM ä¸Šä½¿ç”¨ å¯æŒ‡å®šç”Ÿå‘½é€±æœŸ(ä¾‹å¦‚ mounted) æœ€çµ‚ç›®æ¨™åªè¦åœ¨ views çš„ components åŠ ä¸Š v-hide-for=&quot;['PM', 'RD']&quot;ï¼Œåªè¦ç”¨é€™å…©ç¨®è§’è‰²ç™»å…¥ï¼Œå°±ç„¡æ³•çœ‹åˆ°é€™å€‹çµ„ä»¶ã€‚å…¨å±€é€šç”¨ï¼Œä¸”ä¸éœ€è¦é¡å¤–åœ¨ &lt;script setup&gt;å®šç¾©ã€‚ 123&lt;PrimaryButton v-hide-for=&quot;['PM', 'RD']&quot;`/&gt; å„ªé» é‚è¼¯éƒ½æ”¾åœ¨ directives é›†ä¸­è™•ç†ï¼Œæ¯”è¼ƒå¥½ç¶­è­·è·Ÿæ“´å…… ä¸ç”¨åœ¨æ¯å€‹ views éƒ½ç”¨ computed å®šç¾©ï¼Œè€Œæ˜¯å…¨å±€é€šç”¨ çœ‹èµ·ä¾†ç›´è¦ºå¤šäº†! å®˜æ–¹æ–‡ä»¶ ref12345const myDirective = { // åœ¨ç¶å®šå…ƒç´ çš„çˆ¶çµ„ä»¶ // åŠä»–è‡ªå·±çš„æ‰€æœ‰å­ç¯€é»éƒ½æ›è¼‰å®Œæˆå¾Œèª¿ç”¨ mounted(el, binding, vnode, prevVnode) {},} åƒæ•¸(éƒ½æ˜¯å¯é¸çš„) elï¼šæŒ‡ä»¤ç¶å®šåˆ°çš„å…ƒç´ ã€‚é€™å¯ä»¥ç”¨æ–¼ç›´æ¥æ“ä½œ DOMã€‚ bindingï¼šä¸€å€‹å°è±¡ï¼ŒåŒ…å«å„ç¨®å±¬æ€§ï¼Œæˆ‘ä½¿ç”¨çš„å°±æ˜¯ valueï¼šå‚³éçµ¦æŒ‡ä»¤çš„å€¼ã€‚ å¯¦éš›ä½œæ³• åœ¨ src è³‡æ–™å¤¾å‰µé€  directives è³‡æ–™å¤¾ï¼Œå‰µé€  hideFor.ts æ–‡ä»¶ 123456789101112131415161718import type { Directive } from 'vue';import { storeToRefs } from 'pinia';import { useUserStore } from '@/store/modules/user';const hideForDirective: Directive = { mounted(el, binding) { const userStore = useUserStore(); const { userInfo } = storeToRefs(userStore); const excludedRoles = binding.value; if (excludedRoles.includes(userInfo.value.role)) { el.parentNode?.removeChild(el); } }};export default hideForDirective; åœ¨ main.ts åšå…¨å±€è¨»å†Š 1234567891011121314import hideForDirective from '@/directives/hideFor';import App from './App.vue';async function setupApp() { const app = createApp(App); setupStore(app); app.directive('hideFor', hideForDirective); app.mount('#app');}setupApp(); éš±è—ä½ æƒ³éš±è—çš„å§! åœ¨ views çš„çµ„ä»¶ä¸ŠåŠ  v-hide-for=&quot;['PM']&quot;ï¼Œç„¶å¾Œç•¶æˆ‘ç”¨ â€˜PMâ€™ çš„è§’è‰²ç™»å…¥å¾Œï¼Œæˆ‘å°±çœ‹ä¸åˆ°é€™å€‹ Button åš•ã€‚ &lt;PrimaryButton v-hide-for=&quot;['PM']&quot;` /&gt;","link":"/2025/03/11/%E7%94%A8-Vue-Directive-%E7%AE%A1%E7%90%86%E8%A7%92%E8%89%B2%E6%AC%8A%E9%99%90/"}],"tags":[{"name":"Hexo","slug":"Hexo","link":"/tags/Hexo/"},{"name":"Blog","slug":"Blog","link":"/tags/Blog/"},{"name":"Icarus","slug":"Icarus","link":"/tags/Icarus/"},{"name":"directive","slug":"directive","link":"/tags/directive/"},{"name":"vue","slug":"vue","link":"/tags/vue/"}],"categories":[],"pages":[]}