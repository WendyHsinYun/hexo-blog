{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"themes/icarus/source/css/default.styl","path":"css/default.styl","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/cyberpunk.styl","path":"css/cyberpunk.styl","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/icarus/source/img/avatar.png","path":"img/avatar.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/img/og_image.png","path":"img/og_image.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/img/logo.svg","path":"img/logo.svg","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/animation.js","path":"js/animation.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/back_to_top.js","path":"js/back_to_top.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/column.js","path":"js/column.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/pjax.js","path":"js/pjax.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/main.js","path":"js/main.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"16e6e182ce1e6df1443d8cd92a9d4cf892ef367f","modified":1741053823965},{"_id":"source/_posts/How-to-create-a-Hexo-Icarus-Blog.md","hash":"268c24cda0e417bd7abb56ae94b096013fb7864e","modified":1741679638413},{"_id":"themes/icarus/layout/comment/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1741055283104},{"_id":"themes/icarus/layout/donate/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1741055283108},{"_id":"themes/icarus/layout/misc/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1741055283108},{"_id":"themes/icarus/layout/search/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1741055283109},{"_id":"themes/icarus/layout/share/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1741055283110},{"_id":"themes/icarus/include/schema/comment/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1741055283087},{"_id":"themes/icarus/include/schema/share/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1741055283094},{"_id":"themes/icarus/include/schema/misc/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1741055283092},{"_id":"themes/icarus/include/schema/donate/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1741055283092},{"_id":"themes/icarus/include/schema/search/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1741055283093},{"_id":"themes/icarus/.eslintignore","hash":"5410a1bef9807f666cd92a0d2020f700e67e4096","modified":1741055283078},{"_id":"themes/icarus/.eslintrc.json","hash":"ca45d8e5d80ad6b7004cddacae7fc7d8040b2d6f","modified":1741055283078},{"_id":"themes/icarus/CONTRIBUTING.md","hash":"70254c6778c1e41bb2ff222bbf3a70b2239b9bc1","modified":1741055283084},{"_id":"themes/icarus/.gitignore","hash":"36084c0851a22bfd393933abb8e262562ffc6802","modified":1741055283083},{"_id":"themes/icarus/package.json","hash":"f5bf0acf4fee3b57046e0be507d2d324e2b8805f","modified":1741055283110},{"_id":"themes/icarus/README.md","hash":"32f9f4fc8cd7ec60b30544bd2e558b593519ae5d","modified":1741055283084},{"_id":"themes/icarus/LICENSE","hash":"86037e5335a49321fa73b7815cab542057fac944","modified":1741055283084},{"_id":"themes/icarus/.npmignore","hash":"42242c8da7a020a3295e7dd3d18bf022cb08b661","modified":1741055283084},{"_id":"themes/icarus/.github/dependabot.yml","hash":"d532d0db30e42211f35823b9885f3ed1b2d51777","modified":1741055283082},{"_id":"themes/icarus/.github/stale.yml","hash":"88c73f6216c5666d2f60b1e8fe690a3f6e561e42","modified":1741055283082},{"_id":"themes/icarus/include/config.js","hash":"4b8a3096137e0d879fb17972a69630bde38d8212","modified":1741055283085},{"_id":"themes/icarus/include/register.js","hash":"040fed1d0d7e4d8003446d1541bc15a2c4b4e500","modified":1741055283087},{"_id":"themes/icarus/include/dependency.js","hash":"e02471f80db87db43aa7d527176e195b60dc4b99","modified":1741055283085},{"_id":"themes/icarus/layout/archive.jsx","hash":"daf8eca64197709a9dc4a4792c403a32d78bdfae","modified":1741055283104},{"_id":"themes/icarus/layout/categories.jsx","hash":"b8ad43e28a4990d222bfbb95b032f88555492347","modified":1741055283104},{"_id":"themes/icarus/layout/category.jsx","hash":"2313be8301011d218830b853b294b022ce81b423","modified":1741055283104},{"_id":"themes/icarus/layout/index.jsx","hash":"0a84a2348394fa9fc5080dd396bd28d357594f47","modified":1741055283108},{"_id":"themes/icarus/layout/layout.jsx","hash":"ac7c4e3465a116c7f05f8c2e09ee6d6b9467abf1","modified":1741055283108},{"_id":"themes/icarus/layout/page.jsx","hash":"d26c2db57e5a88d6483a03aeb51cda9d191d8cea","modified":1741055283108},{"_id":"themes/icarus/layout/post.jsx","hash":"d26c2db57e5a88d6483a03aeb51cda9d191d8cea","modified":1741055283109},{"_id":"themes/icarus/layout/tag.jsx","hash":"a9a08c9f3eec8994d37149d1ab19f2b5b8f4cd2f","modified":1741055283110},{"_id":"themes/icarus/layout/tags.jsx","hash":"2c42cb64778235dd220c563a27a92108ddc50cc4","modified":1741055283110},{"_id":"themes/icarus/scripts/index.js","hash":"93a79969c7eb47cfac097893cda36368db56902c","modified":1741055283112},{"_id":"themes/icarus/languages/en.yml","hash":"3d674204d9f723c829226da745afddd180c1131d","modified":1741055283099},{"_id":"themes/icarus/languages/fr.yml","hash":"b992b68705f5050a99de926525b3cb40d95c4769","modified":1741055283099},{"_id":"themes/icarus/languages/id.yml","hash":"5e48b1d62378cadeb64b88349477726a5c1bae47","modified":1741055283100},{"_id":"themes/icarus/languages/it.yml","hash":"b76999994cda6b08b53d34c3dd67947f164de655","modified":1741055283100},{"_id":"themes/icarus/languages/es.yml","hash":"38579b8fad4b6997362acc770615bcd85ff20f68","modified":1741055283099},{"_id":"themes/icarus/languages/pl.yml","hash":"2e7debb44cd91096f30efc87bf8d6b1d0d0214c9","modified":1741055283100},{"_id":"themes/icarus/languages/de.yml","hash":"78421f09961ca0b24756a0688fb2cb2e2696e25f","modified":1741055283099},{"_id":"themes/icarus/languages/pt-BR.yml","hash":"ee8f73350e4c6e2f63b7fc72b34472a6b1e21244","modified":1741055283100},{"_id":"themes/icarus/languages/ru.yml","hash":"9d91358c2acbe7a0f2a25daf7f65b999ff32d068","modified":1741055283102},{"_id":"themes/icarus/languages/sv.yml","hash":"b12eee168c52aac855ffce9f78fe5fd5d6e3970c","modified":1741055283102},{"_id":"themes/icarus/languages/tr.yml","hash":"dd0a7bfe14848d6e1aa229198fe1db03e08e305e","modified":1741055283102},{"_id":"themes/icarus/languages/ja.yml","hash":"801d9930fef48d6a3f80470d5bed4f3eb78147e6","modified":1741055283100},{"_id":"themes/icarus/languages/tk.yml","hash":"ca583168bd2025124a1cd0e977da475d7a7496fd","modified":1741055283102},{"_id":"themes/icarus/languages/vn.yml","hash":"5f2fffa642110c81d8f529949711c9d19ad6bbbe","modified":1741055283103},{"_id":"themes/icarus/languages/ko.yml","hash":"e3374265377809c1518114cf352b595840c0b416","modified":1741055283100},{"_id":"themes/icarus/languages/zh-CN.yml","hash":"02475ba14afc70dfeaf5678467cee307835e4efa","modified":1741055283103},{"_id":"themes/icarus/languages/zh-TW.yml","hash":"a6826e0c8cdb9ad286324b682b466a9e2ad78e6f","modified":1741055283103},{"_id":"themes/icarus/.github/PULL_REQUEST_TEMPLATE/pull_request_template.md","hash":"e106fa240c24c8bfbdd623549651600c6d786c9c","modified":1741055283081},{"_id":"themes/icarus/.github/ISSUE_TEMPLATE/Bugåé¦ˆ.md","hash":"d801be6937df21e63113be8840b2e23c465db87b","modified":1741055283080},{"_id":"themes/icarus/.github/ISSUE_TEMPLATE/feature_request.md","hash":"05313e241a3d43fdadb0f74390b562c07c25d4d0","modified":1741055283081},{"_id":"themes/icarus/.github/ISSUE_TEMPLATE/åŠŸèƒ½å»ºè®®.md","hash":"c6f60f37e6cd0bc21a81b3b07f84e04e9e80fb57","modified":1741055283081},{"_id":"themes/icarus/.github/ISSUE_TEMPLATE/config.yml","hash":"b49270a202d839c298e584b5d017f56140c7e7a0","modified":1741055283081},{"_id":"themes/icarus/.github/ISSUE_TEMPLATE/bug_report.md","hash":"5d3abdc1a2a79ef9822865184eced6e31066d8f6","modified":1741055283080},{"_id":"themes/icarus/.github/workflows/github-release.yml","hash":"d9830273e7e23c4151b10840f131f0b78b961bae","modified":1741055283082},{"_id":"themes/icarus/.github/workflows/lint.yml","hash":"17d374bf92867a67b15d657c2d41f8e4f9271102","modified":1741055283083},{"_id":"themes/icarus/.github/workflows/npm-publish.yml","hash":"de1ac56ec6888aaeb5db81d94693248b3467e4f6","modified":1741055283083},{"_id":"themes/icarus/.github/workflows/test.yml","hash":"706faa463b660412fe6474ea21cf4c2d8474c959","modified":1741055283083},{"_id":"themes/icarus/include/migration/head.js","hash":"7189efe33d18927d3790e8afb06642fb293b8603","modified":1741055283085},{"_id":"themes/icarus/include/migration/v2_v3.js","hash":"a46da71c20fa9d73c1bac26fda77717abae1b308","modified":1741055283086},{"_id":"themes/icarus/include/migration/v3_v4.js","hash":"9faf2184d7fe87debfbe007f3fc9079dcbcafcfe","modified":1741055283086},{"_id":"themes/icarus/include/migration/v5_v5.1.js","hash":"073f22bd16e34b56f016633b1676dab2e7d8843d","modified":1741055283086},{"_id":"themes/icarus/include/migration/v4_v5.js","hash":"6342310892d113763b5544789b45d44c0ccf2854","modified":1741055283086},{"_id":"themes/icarus/include/schema/config.json","hash":"f233678cd656c0e300181ca79dd30cb42fc213b3","modified":1741055283092},{"_id":"themes/icarus/include/style/article.styl","hash":"105c983871b6c9148d97a0f756886e56411572bd","modified":1741055283094},{"_id":"themes/icarus/include/style/card.styl","hash":"f78674422eb408cd17c17bbdc3ee1ebe4a453e05","modified":1741055283095},{"_id":"themes/icarus/include/style/base.styl","hash":"2bca6ad099949d52236c87db8db1002ffb99774c","modified":1741055283095},{"_id":"themes/icarus/include/style/button.styl","hash":"0fb35b4786be1b387c751fa2849bc71523fcedd4","modified":1741055283095},{"_id":"themes/icarus/include/style/codeblock.styl","hash":"ec54dc24eb4d9802d8fefc44c210558bc1641109","modified":1741055283096},{"_id":"themes/icarus/include/style/donate.styl","hash":"8d0af00628c13134b5f30a558608e7bebf18c2ec","modified":1741055283096},{"_id":"themes/icarus/include/style/footer.styl","hash":"a4ad715dee38b249538ac6cce94efc9b355a904b","modified":1741055283096},{"_id":"themes/icarus/include/style/navbar.styl","hash":"34f09b144cb46a25ec2cc7260a6c207dd34ff1fe","modified":1741055283097},{"_id":"themes/icarus/include/style/pagination.styl","hash":"b81bcd7ff915b4e9299533addc01bc4575ec35e3","modified":1741055283097},{"_id":"themes/icarus/include/style/helper.styl","hash":"9f3393e6122cc9f351091bfab960674e962da343","modified":1741055283096},{"_id":"themes/icarus/include/style/plugin.styl","hash":"084843d5a522029e0f84a4fe791fbcb2cabd4c36","modified":1741055283097},{"_id":"themes/icarus/include/style/responsive.styl","hash":"207083fe287612cddee6608b541861b14ac8de81","modified":1741055283097},{"_id":"themes/icarus/include/style/search.styl","hash":"416737e1da4e7e907bd03609b0fee9e2aacfe56c","modified":1741055283098},{"_id":"themes/icarus/include/style/timeline.styl","hash":"ea61798a09bffdda07efb93c2ff800b63bddc4c4","modified":1741055283098},{"_id":"themes/icarus/include/style/widget.styl","hash":"c746902251136544eb3fe523235b3183f4189460","modified":1741055283098},{"_id":"themes/icarus/include/util/console.js","hash":"59cf9d277d3ac85a496689bd811b1c316001641d","modified":1741055283098},{"_id":"themes/icarus/layout/common/article.jsx","hash":"a158e1a123b41a69fe1366f4c4e19fc1224d29fa","modified":1741055283105},{"_id":"themes/icarus/layout/common/comment.jsx","hash":"76ee7c6687e96e6262985323665d6273a37e54c5","modified":1741055283105},{"_id":"themes/icarus/layout/common/donates.jsx","hash":"fd52330d582fd122db7f55444c2f3368ff4bd8d7","modified":1741055283105},{"_id":"themes/icarus/layout/common/head.jsx","hash":"bf783d5ef6d58924150472637c6c17782c83e102","modified":1741055283106},{"_id":"themes/icarus/layout/common/navbar.jsx","hash":"d96e501e52861056474659f96ee0206588d8c93a","modified":1741055283106},{"_id":"themes/icarus/layout/common/footer.jsx","hash":"de966666f1e4ef80e0d15081b2709c3065b246dd","modified":1741055283106},{"_id":"themes/icarus/layout/common/scripts.jsx","hash":"5d07312406b401e8d4e9584b4d41ed7377993935","modified":1741055283107},{"_id":"themes/icarus/layout/common/search.jsx","hash":"1409627d98a92b4f5b2ab829f8e6b50b75d60e53","modified":1741055283107},{"_id":"themes/icarus/layout/common/widgets.jsx","hash":"7a89ac72a988d13b4714ab78a6dfd5cd8de85d47","modified":1741055283107},{"_id":"themes/icarus/layout/common/plugins.jsx","hash":"2e27800b2a8a87112c96778db858c3419d890b79","modified":1741055283106},{"_id":"themes/icarus/layout/plugin/animejs.jsx","hash":"e2aa27c3501a58ef1e91e511557b77395c2c02aa","modified":1741055283108},{"_id":"themes/icarus/layout/plugin/back_to_top.jsx","hash":"f86a0bae3a92bc07bd674f03a046fb1b6c1b48af","modified":1741055283109},{"_id":"themes/icarus/layout/plugin/pjax.jsx","hash":"65956102d5faabcedaaafb14b0201548f15e60ce","modified":1741055283109},{"_id":"themes/icarus/layout/common/share.jsx","hash":"0fad6f8a91bb5cf678b9ff2d66d2162d61625074","modified":1741055283107},{"_id":"themes/icarus/layout/widget/profile.jsx","hash":"2322a2b24e63bfb44b2acfc07795435f8c89d511","modified":1741055283110},{"_id":"themes/icarus/source/css/default.styl","hash":"b01da3028e5a1267a40aaae5c86a11187a2259e3","modified":1741055283113},{"_id":"themes/icarus/source/css/style.styl","hash":"5b9815586e993a6ccbe8cdcfc0c65ea38fc315ac","modified":1741055283113},{"_id":"themes/icarus/source/img/logo.svg","hash":"73a0282572c68980499ada968b0136c24444653f","modified":1741053823945},{"_id":"themes/icarus/source/css/cyberpunk.styl","hash":"ae17d3528df0c3f089df14a06b7bd82f1bc5fed9","modified":1741055283113},{"_id":"themes/icarus/source/js/.eslintrc.json","hash":"6bf0641cb69dffac97f69baea192d7fa3ab612cb","modified":1741055283116},{"_id":"themes/icarus/source/js/animation.js","hash":"0a8e361c353daa3194f4de3d646b96025d128e1a","modified":1741055283116},{"_id":"themes/icarus/source/js/back_to_top.js","hash":"d91f10c08c726135a13dfa1f422c49d8764ef03f","modified":1741055283116},{"_id":"themes/icarus/source/js/column.js","hash":"0baee024ab67474c073a4c41b495f3e7f0df4505","modified":1741055283116},{"_id":"themes/icarus/source/js/main.js","hash":"37f3b16fbd9668b9496d5f2d9bd9fb22fc6cee27","modified":1741055283117},{"_id":"themes/icarus/source/js/pjax.js","hash":"1c9921d4bd07795adc1d01a12c0fddf7d1124ca2","modified":1741055283117},{"_id":"themes/icarus/include/schema/common/article.json","hash":"e2502c39045c6a26ccd8e880858f93e78c7bda35","modified":1741055283087},{"_id":"themes/icarus/include/schema/common/comment.json","hash":"265120b80df9808358df3ff7c4eada8a66512a4b","modified":1741055283089},{"_id":"themes/icarus/include/schema/common/donates.json","hash":"ae86e6f177bedf4afbe638502c12635027539305","modified":1741055283089},{"_id":"themes/icarus/include/schema/common/footer.json","hash":"e85c9d7f2579805beb252a1b6345d5a668a13baa","modified":1741055283089},{"_id":"themes/icarus/include/schema/common/head.json","hash":"98889f059c635e6bdbd51effd04cf1cf44968a66","modified":1741055283090},{"_id":"themes/icarus/include/schema/common/navbar.json","hash":"6691e587284c4cf450e0288680d5ff0f3565f090","modified":1741055283090},{"_id":"themes/icarus/include/schema/common/plugins.json","hash":"04c0738dc0a3ed89aecae2aee4ab60173f09e66b","modified":1741055283090},{"_id":"themes/icarus/include/schema/common/providers.json","hash":"97ec953d497fb53594227ae98acaef8a8baa91da","modified":1741055283090},{"_id":"themes/icarus/include/schema/common/share.json","hash":"cf4f9ff4fb27c3541b35f57db355c228fa6873e4","modified":1741055283091},{"_id":"themes/icarus/include/schema/common/search.json","hash":"985fbcbf47054af714ead1a124869d54f2a8b607","modified":1741055283091},{"_id":"themes/icarus/include/schema/common/widgets.json","hash":"cadd9dc942740ecd5037d3943e72f8b6a8399bbe","modified":1741055283092},{"_id":"themes/icarus/include/schema/plugin/back_to_top.json","hash":"dc0febab7e7b67075d0ad3f80f5ec8b798b68dea","modified":1741055283093},{"_id":"themes/icarus/include/schema/plugin/pjax.json","hash":"1f6218016569eb9cd354a06a9537c7110efb5f17","modified":1741055283093},{"_id":"themes/icarus/include/schema/common/sidebar.json","hash":"eb241beaec4c73e3085dfb3139ce72e827e20549","modified":1741055283091},{"_id":"themes/icarus/include/schema/plugin/animejs.json","hash":"e62ab6e20bd8862efa1ed32e7c0db0f8acbcfdec","modified":1741055283092},{"_id":"themes/icarus/include/schema/widget/profile.json","hash":"690ee1b0791cab47ea03cf42b5b4932ed2aa5675","modified":1741055283094},{"_id":"themes/icarus/source/img/og_image.png","hash":"af22ba7150f46212979c057822f2574eae8d4777","modified":1741053823947},{"_id":"themes/icarus/source/img/avatar.png","hash":"60eb9669a0e38275e82a17825d3d50a98161c8c5","modified":1741053823945},{"_id":"public/js/algolia.js","hash":"a8df0c0abeeb4ee1d2d720161f3aea7339380704","modified":1741057567835},{"_id":"public/js/google_cse.js","hash":"1a9881669dfdeb2b3214074eee0d3e01e52db2c4","modified":1741057567835},{"_id":"public/js/insight.js","hash":"86bbdb7305d9bf19ad62d2ca2cf169fc8d9f9d31","modified":1741057567835},{"_id":"public/manifest.json","hash":"6342abac6ed16a49e8e0f1ae30a74c41ef2a66cc","modified":1741057567835},{"_id":"public/content.json","hash":"d047ba9f5eb1799a11aff1997f8edb04368dd654","modified":1741057567835},{"_id":"public/js/toc.js","hash":"da6fb757a1b083b8ed138bf29aad3a7bf8ec4f11","modified":1741057567835},{"_id":"public/archives/2025/03/index.html","hash":"4dbf10eec9e95e5f3d5e6b68f381fba43a96729a","modified":1741057567835},{"_id":"public/archives/index.html","hash":"c821eb90c126e56e3ddc0d41a23f01ccf906f932","modified":1741057567835},{"_id":"public/index.html","hash":"ba8f6e543618bad396795f30b26432660f203a32","modified":1741057567835},{"_id":"public/2025/03/01/How-to-create-a-Hexo-Icarus-Blog/index.html","hash":"39742d1e3194d074fb2eb2e8a1eaa296b7fa5f33","modified":1741057567835},{"_id":"public/archives/2025/index.html","hash":"37ecccb7c13bc7ffb35b803885ac635c5a989314","modified":1741057567835},{"_id":"public/categories/index.html","hash":"847bfeb6b2d7d57da43ca338cb8978d00306aac6","modified":1741057567835},{"_id":"public/tags/index.html","hash":"92e9db0612506e52307452aa4e6e958509754862","modified":1741057567835},{"_id":"public/CNAME","hash":"16e6e182ce1e6df1443d8cd92a9d4cf892ef367f","modified":1741057567835},{"_id":"public/img/logo.svg","hash":"73a0282572c68980499ada968b0136c24444653f","modified":1741057567835},{"_id":"public/img/og_image.png","hash":"af22ba7150f46212979c057822f2574eae8d4777","modified":1741057567835},{"_id":"public/css/default.css","hash":"8717dd0ed1fe2a4237fbfb4f4f6e566cb1ee16b7","modified":1741057567835},{"_id":"public/js/animation.js","hash":"0a8e361c353daa3194f4de3d646b96025d128e1a","modified":1741057567835},{"_id":"public/js/back_to_top.js","hash":"d91f10c08c726135a13dfa1f422c49d8764ef03f","modified":1741057567835},{"_id":"public/css/style.css","hash":"8717dd0ed1fe2a4237fbfb4f4f6e566cb1ee16b7","modified":1741057567835},{"_id":"public/js/column.js","hash":"0baee024ab67474c073a4c41b495f3e7f0df4505","modified":1741057567835},{"_id":"public/js/main.js","hash":"37f3b16fbd9668b9496d5f2d9bd9fb22fc6cee27","modified":1741057567835},{"_id":"public/css/cyberpunk.css","hash":"b462177bee11f76e84e649f8192d5a68cb4b1402","modified":1741057567835},{"_id":"public/js/pjax.js","hash":"1c9921d4bd07795adc1d01a12c0fddf7d1124ca2","modified":1741057567835},{"_id":"public/img/avatar.png","hash":"60eb9669a0e38275e82a17825d3d50a98161c8c5","modified":1741057567835},{"_id":"source/_posts/ç”¨-Vue-Directive-ç®¡ç†è§’è‰²æ¬Šé™.md","hash":"2e8aed5e5f7aee18d76168fc31172b24ea226b76","modified":1741679217371}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"Hexo Icarus æ¶ç«™ç´€éŒ„","date":"2025-03-01T12:16:35.000Z","_content":"\n## å‰è¨€\n\né–‹å§‹ç¿’æ…£äº† Markdown å¯«æ–‡ä»¶å¾Œï¼Œè¶Šä¾†è¶Šè¦ºå¾— Medium ä¸é©åˆç”¨ä¾†æ•´ç†æŠ€è¡“ç­†è¨˜ï¼Œé‚„æ˜¯å¦å°‹ç©ºé–“ï¼Œä¸¦çµ‚æ–¼åœ¨ 2025 åˆç”¨ Hexo æ¶äº†è‡ªå·±çš„ blogã€‚\n\nHexo æœ‰å¾ˆå¤šé–‹æºä¸»é¡Œï¼ŒåŸå…ˆæˆ‘æ˜¯ç„¡è…¦è·Ÿè‘— [èƒ¡ç«‹ä½¿ç”¨ Minos é€™å€‹ä¸»é¡Œ](https://www.facebook.com/huli.blog/posts/pfbid0iW4WWd4yw2fZYT1N7ptEkzJb2WaLqpjKARZ1eRjhfwp2Z3udfBc9SKtK46zGb5ool)ï¼Œä½†å¾Œä¾†ç™¼ç¾å®‰è£éç¨‹å‡ºç¾å•é¡Œï¼Œä¸” [Minos çš„ GitHub](https://github.com/ppoffice/hexo-theme-minos) ä¹Ÿåœ¨ 2022 å¹´é€²å…¥ read-only ç‹€æ…‹ï¼Œä¸é–‹æ”¾æ issueï¼Œæ±ºå®šè½‰å‘å…¶ä»–é‚„åœ¨ç¶­è­·ä¸­çš„ themeã€‚\n\nç›®å‰æœ€ç†±é–€çš„ Hexo ä¸»é¡Œé™¤äº† [NexT](https://github.com/theme-next/hexo-theme-next) ä»¥å¤–ï¼Œä¹Ÿçœ‹åˆ°æœ‰äººåœ¨æ¨è–¦ä½¿ç”¨ [Icarus](https://github.com/ppoffice/hexo-theme-icarus)ã€‚å¾Œè€…çš„æ˜Ÿæ˜Ÿæ•¸æ²’æœ‰ NexT é‚£éº¼é«˜ï¼Œä»¥é †çœ¼ç¨‹åº¦ä¾†èªªæˆ‘é‚„æ˜¯é¸æ“‡äº† Icarusã€‚\n\n---\n\n## æµç¨‹\n\næ¥ä¸‹ä¾†ç´€éŒ„æˆ‘çš„æ¶ç«™éç¨‹ã€‚è«‹è¨˜å¾—ç”¨ `node -v`, `npm -v` è·Ÿ `git` æª¢æŸ¥å·¥å…·æ˜¯å¦å·²ç¶“å®‰è£å¥½ï¼Œå†é€²è¡Œå¾ŒçºŒæ­¥é©Ÿã€‚\n\n---\n\n### 1. å®‰è£ Hexo\n\n#### 1-1. å…¨å±€å®‰è£ hexo-cli\n\n```bash\nnpm install -g hexo-cli\n```\n\nğŸ’¡ **æç¤º:**  \nMac ä½¿ç”¨è€…å¯ä»¥ç”¨ `npm list -g --depth=0` çœ‹åˆ°å·²ç¶“è¢«å…¨å±€å®‰è£ã€‚\n\n---\n\n#### 1-2. å®‰è£ Hexo\n\nå°‡ `<folder>` æ›æˆè‡ªå·±æƒ³è¦çš„åç¨±ï¼š\n\n```bash\nhexo init <folder>\ncd <folder>\nnpm install\n```\n\n---\n\n#### 1-3. æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆ\n\nç”¨ `hexo server` æˆ– `hexo s` ä¸¦åˆ° [http://localhost:4000](http://localhost:4000) æª¢æŸ¥ï¼Œç•¶çœ‹åˆ°é è¨­çš„ç¶²ç«™é…ç½®ï¼Œä»£è¡¨å®‰è£å®Œæˆã€‚\n\n![åœ–ç‰‡](/img/How-to-create-a-Hexo-Icarus-Blog-1.png)\n\n---\n\n### 2. æ¨é€è‡³é ç«¯ Git Repo\n\nåˆ°é€™ç‚ºæ­¢ï¼Œå¯ä»¥åœ¨ GitHub å»ºç«‹å€‹äºº repo ä¸¦ä¸”æ¨é€ã€‚  \nå¿…é ˆè¨­ç‚ºå…¬é–‹æ‰èƒ½åŠ å…¥ Discussion ç•™è¨€ç‰ˆåŠŸèƒ½ã€‚\n\n---\n\n### 3. å®‰è£ Icarus ä¸»é¡Œ\n\nIcarus å®˜æ–¹ Blog [\"Getting Started with Icarus\"](https://ppoffice.github.io/hexo-theme-icarus/uncategorized/getting-started-with-icarus/) ([ä¸­æ–‡ç‰ˆ](https://ppoffice.github.io/hexo-theme-icarus/uncategorized/icarus%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/)) æä¾›å…©ç¨®å®‰è£æ–¹å¼: Install from source æˆ– Install via NPMã€‚\n\næˆ‘æ¯”è¼ƒæ¨è–¦ç”¨ **Install from source (`git clone`)**ï¼Œå› ç‚ºå¤§éƒ¨åˆ†çš„ Blog æ•™å­¸éƒ½æ˜¯ä»¥é€™å€‹ç‚ºåŸºç¤ä¾†åšé…ç½®ã€‚è‹¥ä½¿ç”¨ `npm install`ï¼ŒIcarus æœƒè¢«ç•¶ä½œ NPM package ä¾†å®‰è£ï¼Œè³‡æ–™å¤¾çµæ§‹æœƒé•·å¾—è·Ÿ `git clone` ä¸å¤ªä¸€æ¨£ï¼Œç™¼ç”Ÿå•é¡Œä¹Ÿæ¯”è¼ƒå°‘è³‡æºå¯ä»¥æŸ¥è©¢ã€‚\n\n---\n\n#### 3-1. ä½¿ç”¨ Install from source\n\nå®˜æ–¹éƒ¨è½æ ¼æœ‰ä»‹ç´¹å…©ç¨®æ–¹æ³•ï¼Œé¸ä¸€ç¨®ä½¿ç”¨å°±å¥½äº†ã€‚\n\n**æ–¹æ³•ä¸€ï¼šç¨ç«‹çš„ repo ï¼ˆæˆ‘æ˜¯é¸é€™å€‹ï¼‰**\n\n```bash\ngit clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus --depth 1\n```\n\nğŸ’¡ **æç¤º:**  \n- è‹¥æŒ‡å®šç‰ˆæœ¬ï¼Œå¯ä½¿ç”¨ `-b <version number>`ï¼Œä¸æŒ‡å®šå°±æ˜¯ latest ç‰ˆæœ¬ã€‚  \n- `--depth 1` ä»£è¡¨åªä¸‹è¼‰æœ€æ–°çš„ commitï¼Œä¸åŒ…å«å®Œæ•´çš„ commit æ­·å²ã€‚  \n- ä½¿ç”¨é€™å€‹æ–¹æ³•å¾Œï¼Œé ˆé€é `git rm --cached themes/icarus` ç§»é™¤åµŒå¥—çš„ git repoï¼Œä¹‹å¾Œä½¿ç”¨ `git add .` æ‰ä¸æœƒå‡ºç¾éŒ¯èª¤è¨Šæ¯ã€‚\n\n---\n\n**æ–¹æ³•äºŒï¼šåŠ å…¥ç‚º submodule**\n\n```bash\ngit submodule add https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus\n```\n\nğŸ’¡ **æç¤º:**  \nåŠ å…¥å¾Œï¼Œä½¿ç”¨ `git submodule status` å¯ä»¥çœ‹åˆ°å­æ¨¡çµ„çš„è³‡è¨Šã€‚\n\n---\n\n#### 3-2. è¨­å®š theme\n\n```bash\nhexo config theme icarus\n```\n\nğŸ’¡ **æç¤º:**  \né€™è·Ÿæ‰‹å‹•æ›´æ”¹æ ¹è³‡æ–™å¤¾ä¸­çš„ `_config.yml` ä¸­çš„ `theme: icarus` æ˜¯ä¸€æ¨£çš„æ„æ€ã€‚\n\n---\n\n#### 3-3. ä½¿ç”¨ `hexo generate && hexo server` æª¢æŸ¥å®‰è£æˆåŠŸ\n\n![image](https://hackmd.io/_uploads/B1y8-rJYyx.png)\n\n---\n\nğŸ’¡ **å®‰è£éç¨‹ä¸­æœ‰é‡åˆ°å•é¡Œ:**  \nè¦‹é€™ç¯‡ [GitHub Discussion](https://github.com/ppoffice/hexo-theme-icarus/issues/1340)\n\n","source":"_posts/How-to-create-a-Hexo-Icarus-Blog.md","raw":"---\ntitle: Hexo Icarus æ¶ç«™ç´€éŒ„\ndate: 2025-03-01 20:16:35\ntags:\n  - Hexo\n  - Blog\n  - Icarus\n---\n\n## å‰è¨€\n\né–‹å§‹ç¿’æ…£äº† Markdown å¯«æ–‡ä»¶å¾Œï¼Œè¶Šä¾†è¶Šè¦ºå¾— Medium ä¸é©åˆç”¨ä¾†æ•´ç†æŠ€è¡“ç­†è¨˜ï¼Œé‚„æ˜¯å¦å°‹ç©ºé–“ï¼Œä¸¦çµ‚æ–¼åœ¨ 2025 åˆç”¨ Hexo æ¶äº†è‡ªå·±çš„ blogã€‚\n\nHexo æœ‰å¾ˆå¤šé–‹æºä¸»é¡Œï¼ŒåŸå…ˆæˆ‘æ˜¯ç„¡è…¦è·Ÿè‘— [èƒ¡ç«‹ä½¿ç”¨ Minos é€™å€‹ä¸»é¡Œ](https://www.facebook.com/huli.blog/posts/pfbid0iW4WWd4yw2fZYT1N7ptEkzJb2WaLqpjKARZ1eRjhfwp2Z3udfBc9SKtK46zGb5ool)ï¼Œä½†å¾Œä¾†ç™¼ç¾å®‰è£éç¨‹å‡ºç¾å•é¡Œï¼Œä¸” [Minos çš„ GitHub](https://github.com/ppoffice/hexo-theme-minos) ä¹Ÿåœ¨ 2022 å¹´é€²å…¥ read-only ç‹€æ…‹ï¼Œä¸é–‹æ”¾æ issueï¼Œæ±ºå®šè½‰å‘å…¶ä»–é‚„åœ¨ç¶­è­·ä¸­çš„ themeã€‚\n\nç›®å‰æœ€ç†±é–€çš„ Hexo ä¸»é¡Œé™¤äº† [NexT](https://github.com/theme-next/hexo-theme-next) ä»¥å¤–ï¼Œä¹Ÿçœ‹åˆ°æœ‰äººåœ¨æ¨è–¦ä½¿ç”¨ [Icarus](https://github.com/ppoffice/hexo-theme-icarus)ã€‚å¾Œè€…çš„æ˜Ÿæ˜Ÿæ•¸æ²’æœ‰ NexT é‚£éº¼é«˜ï¼Œä»¥é †çœ¼ç¨‹åº¦ä¾†èªªæˆ‘é‚„æ˜¯é¸æ“‡äº† Icarusã€‚\n\n---\n\n## æµç¨‹\n\næ¥ä¸‹ä¾†ç´€éŒ„æˆ‘çš„æ¶ç«™éç¨‹ã€‚è«‹è¨˜å¾—ç”¨ `node -v`, `npm -v` è·Ÿ `git` æª¢æŸ¥å·¥å…·æ˜¯å¦å·²ç¶“å®‰è£å¥½ï¼Œå†é€²è¡Œå¾ŒçºŒæ­¥é©Ÿã€‚\n\n---\n\n### 1. å®‰è£ Hexo\n\n#### 1-1. å…¨å±€å®‰è£ hexo-cli\n\n```bash\nnpm install -g hexo-cli\n```\n\nğŸ’¡ **æç¤º:**  \nMac ä½¿ç”¨è€…å¯ä»¥ç”¨ `npm list -g --depth=0` çœ‹åˆ°å·²ç¶“è¢«å…¨å±€å®‰è£ã€‚\n\n---\n\n#### 1-2. å®‰è£ Hexo\n\nå°‡ `<folder>` æ›æˆè‡ªå·±æƒ³è¦çš„åç¨±ï¼š\n\n```bash\nhexo init <folder>\ncd <folder>\nnpm install\n```\n\n---\n\n#### 1-3. æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆ\n\nç”¨ `hexo server` æˆ– `hexo s` ä¸¦åˆ° [http://localhost:4000](http://localhost:4000) æª¢æŸ¥ï¼Œç•¶çœ‹åˆ°é è¨­çš„ç¶²ç«™é…ç½®ï¼Œä»£è¡¨å®‰è£å®Œæˆã€‚\n\n![åœ–ç‰‡](/img/How-to-create-a-Hexo-Icarus-Blog-1.png)\n\n---\n\n### 2. æ¨é€è‡³é ç«¯ Git Repo\n\nåˆ°é€™ç‚ºæ­¢ï¼Œå¯ä»¥åœ¨ GitHub å»ºç«‹å€‹äºº repo ä¸¦ä¸”æ¨é€ã€‚  \nå¿…é ˆè¨­ç‚ºå…¬é–‹æ‰èƒ½åŠ å…¥ Discussion ç•™è¨€ç‰ˆåŠŸèƒ½ã€‚\n\n---\n\n### 3. å®‰è£ Icarus ä¸»é¡Œ\n\nIcarus å®˜æ–¹ Blog [\"Getting Started with Icarus\"](https://ppoffice.github.io/hexo-theme-icarus/uncategorized/getting-started-with-icarus/) ([ä¸­æ–‡ç‰ˆ](https://ppoffice.github.io/hexo-theme-icarus/uncategorized/icarus%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/)) æä¾›å…©ç¨®å®‰è£æ–¹å¼: Install from source æˆ– Install via NPMã€‚\n\næˆ‘æ¯”è¼ƒæ¨è–¦ç”¨ **Install from source (`git clone`)**ï¼Œå› ç‚ºå¤§éƒ¨åˆ†çš„ Blog æ•™å­¸éƒ½æ˜¯ä»¥é€™å€‹ç‚ºåŸºç¤ä¾†åšé…ç½®ã€‚è‹¥ä½¿ç”¨ `npm install`ï¼ŒIcarus æœƒè¢«ç•¶ä½œ NPM package ä¾†å®‰è£ï¼Œè³‡æ–™å¤¾çµæ§‹æœƒé•·å¾—è·Ÿ `git clone` ä¸å¤ªä¸€æ¨£ï¼Œç™¼ç”Ÿå•é¡Œä¹Ÿæ¯”è¼ƒå°‘è³‡æºå¯ä»¥æŸ¥è©¢ã€‚\n\n---\n\n#### 3-1. ä½¿ç”¨ Install from source\n\nå®˜æ–¹éƒ¨è½æ ¼æœ‰ä»‹ç´¹å…©ç¨®æ–¹æ³•ï¼Œé¸ä¸€ç¨®ä½¿ç”¨å°±å¥½äº†ã€‚\n\n**æ–¹æ³•ä¸€ï¼šç¨ç«‹çš„ repo ï¼ˆæˆ‘æ˜¯é¸é€™å€‹ï¼‰**\n\n```bash\ngit clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus --depth 1\n```\n\nğŸ’¡ **æç¤º:**  \n- è‹¥æŒ‡å®šç‰ˆæœ¬ï¼Œå¯ä½¿ç”¨ `-b <version number>`ï¼Œä¸æŒ‡å®šå°±æ˜¯ latest ç‰ˆæœ¬ã€‚  \n- `--depth 1` ä»£è¡¨åªä¸‹è¼‰æœ€æ–°çš„ commitï¼Œä¸åŒ…å«å®Œæ•´çš„ commit æ­·å²ã€‚  \n- ä½¿ç”¨é€™å€‹æ–¹æ³•å¾Œï¼Œé ˆé€é `git rm --cached themes/icarus` ç§»é™¤åµŒå¥—çš„ git repoï¼Œä¹‹å¾Œä½¿ç”¨ `git add .` æ‰ä¸æœƒå‡ºç¾éŒ¯èª¤è¨Šæ¯ã€‚\n\n---\n\n**æ–¹æ³•äºŒï¼šåŠ å…¥ç‚º submodule**\n\n```bash\ngit submodule add https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus\n```\n\nğŸ’¡ **æç¤º:**  \nåŠ å…¥å¾Œï¼Œä½¿ç”¨ `git submodule status` å¯ä»¥çœ‹åˆ°å­æ¨¡çµ„çš„è³‡è¨Šã€‚\n\n---\n\n#### 3-2. è¨­å®š theme\n\n```bash\nhexo config theme icarus\n```\n\nğŸ’¡ **æç¤º:**  \né€™è·Ÿæ‰‹å‹•æ›´æ”¹æ ¹è³‡æ–™å¤¾ä¸­çš„ `_config.yml` ä¸­çš„ `theme: icarus` æ˜¯ä¸€æ¨£çš„æ„æ€ã€‚\n\n---\n\n#### 3-3. ä½¿ç”¨ `hexo generate && hexo server` æª¢æŸ¥å®‰è£æˆåŠŸ\n\n![image](https://hackmd.io/_uploads/B1y8-rJYyx.png)\n\n---\n\nğŸ’¡ **å®‰è£éç¨‹ä¸­æœ‰é‡åˆ°å•é¡Œ:**  \nè¦‹é€™ç¯‡ [GitHub Discussion](https://github.com/ppoffice/hexo-theme-icarus/issues/1340)\n\n","slug":"How-to-create-a-Hexo-Icarus-Blog","published":1,"updated":"2025-03-11T07:53:58.413Z","_id":"cm7twq1qa0000tktkcczr711d","comments":1,"layout":"post","photos":[],"content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>é–‹å§‹ç¿’æ…£äº† Markdown å¯«æ–‡ä»¶å¾Œï¼Œè¶Šä¾†è¶Šè¦ºå¾— Medium ä¸é©åˆç”¨ä¾†æ•´ç†æŠ€è¡“ç­†è¨˜ï¼Œé‚„æ˜¯å¦å°‹ç©ºé–“ï¼Œä¸¦çµ‚æ–¼åœ¨ 2025 åˆç”¨ Hexo æ¶äº†è‡ªå·±çš„ blogã€‚</p>\n<p>Hexo æœ‰å¾ˆå¤šé–‹æºä¸»é¡Œï¼ŒåŸå…ˆæˆ‘æ˜¯ç„¡è…¦è·Ÿè‘— <a href=\"https://www.facebook.com/huli.blog/posts/pfbid0iW4WWd4yw2fZYT1N7ptEkzJb2WaLqpjKARZ1eRjhfwp2Z3udfBc9SKtK46zGb5ool\">èƒ¡ç«‹ä½¿ç”¨ Minos é€™å€‹ä¸»é¡Œ</a>ï¼Œä½†å¾Œä¾†ç™¼ç¾å®‰è£éç¨‹å‡ºç¾å•é¡Œï¼Œä¸” <a href=\"https://github.com/ppoffice/hexo-theme-minos\">Minos çš„ GitHub</a> ä¹Ÿåœ¨ 2022 å¹´é€²å…¥ read-only ç‹€æ…‹ï¼Œä¸é–‹æ”¾æ issueï¼Œæ±ºå®šè½‰å‘å…¶ä»–é‚„åœ¨ç¶­è­·ä¸­çš„ themeã€‚</p>\n<p>ç›®å‰æœ€ç†±é–€çš„ Hexo ä¸»é¡Œé™¤äº† <a href=\"https://github.com/theme-next/hexo-theme-next\">NexT</a> ä»¥å¤–ï¼Œä¹Ÿçœ‹åˆ°æœ‰äººåœ¨æ¨è–¦ä½¿ç”¨ <a href=\"https://github.com/ppoffice/hexo-theme-icarus\">Icarus</a>ã€‚å¾Œè€…çš„æ˜Ÿæ˜Ÿæ•¸æ²’æœ‰ NexT é‚£éº¼é«˜ï¼Œä»¥é †çœ¼ç¨‹åº¦ä¾†èªªæˆ‘é‚„æ˜¯é¸æ“‡äº† Icarusã€‚</p>\n<hr>\n<h2 id=\"æµç¨‹\"><a href=\"#æµç¨‹\" class=\"headerlink\" title=\"æµç¨‹\"></a>æµç¨‹</h2><p>æ¥ä¸‹ä¾†ç´€éŒ„æˆ‘çš„æ¶ç«™éç¨‹ã€‚è«‹è¨˜å¾—ç”¨ <code>node -v</code>, <code>npm -v</code> è·Ÿ <code>git</code> æª¢æŸ¥å·¥å…·æ˜¯å¦å·²ç¶“å®‰è£å¥½ï¼Œå†é€²è¡Œå¾ŒçºŒæ­¥é©Ÿã€‚</p>\n<hr>\n<h3 id=\"1-å®‰è£-Hexo\"><a href=\"#1-å®‰è£-Hexo\" class=\"headerlink\" title=\"1. å®‰è£ Hexo\"></a>1. å®‰è£ Hexo</h3><h4 id=\"1-1-å…¨å±€å®‰è£-hexo-cli\"><a href=\"#1-1-å…¨å±€å®‰è£-hexo-cli\" class=\"headerlink\" title=\"1-1. å…¨å±€å®‰è£ hexo-cli\"></a>1-1. å…¨å±€å®‰è£ hexo-cli</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n\n<p>ğŸ’¡ <strong>æç¤º:</strong><br>Mac ä½¿ç”¨è€…å¯ä»¥ç”¨ <code>npm list -g --depth=0</code> çœ‹åˆ°å·²ç¶“è¢«å…¨å±€å®‰è£ã€‚</p>\n<hr>\n<h4 id=\"1-2-å®‰è£-Hexo\"><a href=\"#1-2-å®‰è£-Hexo\" class=\"headerlink\" title=\"1-2. å®‰è£ Hexo\"></a>1-2. å®‰è£ Hexo</h4><p>å°‡ <code>&lt;folder&gt;</code> æ›æˆè‡ªå·±æƒ³è¦çš„åç¨±ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init &lt;folder&gt;</span><br><span class=\"line\"><span class=\"built_in\">cd</span> &lt;folder&gt;</span><br><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h4 id=\"1-3-æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆ\"><a href=\"#1-3-æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆ\" class=\"headerlink\" title=\"1-3. æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆ\"></a>1-3. æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆ</h4><p>ç”¨ <code>hexo server</code> æˆ– <code>hexo s</code> ä¸¦åˆ° <a href=\"http://localhost:4000/\">http://localhost:4000</a> æª¢æŸ¥ï¼Œç•¶çœ‹åˆ°é è¨­çš„ç¶²ç«™é…ç½®ï¼Œä»£è¡¨å®‰è£å®Œæˆã€‚</p>\n<p><img src=\"/img/How-to-create-a-Hexo-Icarus-Blog-1.png\" alt=\"åœ–ç‰‡\"></p>\n<hr>\n<h3 id=\"2-æ¨é€è‡³é ç«¯-Git-Repo\"><a href=\"#2-æ¨é€è‡³é ç«¯-Git-Repo\" class=\"headerlink\" title=\"2. æ¨é€è‡³é ç«¯ Git Repo\"></a>2. æ¨é€è‡³é ç«¯ Git Repo</h3><p>åˆ°é€™ç‚ºæ­¢ï¼Œå¯ä»¥åœ¨ GitHub å»ºç«‹å€‹äºº repo ä¸¦ä¸”æ¨é€ã€‚<br>å¿…é ˆè¨­ç‚ºå…¬é–‹æ‰èƒ½åŠ å…¥ Discussion ç•™è¨€ç‰ˆåŠŸèƒ½ã€‚</p>\n<hr>\n<h3 id=\"3-å®‰è£-Icarus-ä¸»é¡Œ\"><a href=\"#3-å®‰è£-Icarus-ä¸»é¡Œ\" class=\"headerlink\" title=\"3. å®‰è£ Icarus ä¸»é¡Œ\"></a>3. å®‰è£ Icarus ä¸»é¡Œ</h3><p>Icarus å®˜æ–¹ Blog <a href=\"https://ppoffice.github.io/hexo-theme-icarus/uncategorized/getting-started-with-icarus/\">â€œGetting Started with Icarusâ€</a> (<a href=\"https://ppoffice.github.io/hexo-theme-icarus/uncategorized/icarus%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/\">ä¸­æ–‡ç‰ˆ</a>) æä¾›å…©ç¨®å®‰è£æ–¹å¼: Install from source æˆ– Install via NPMã€‚</p>\n<p>æˆ‘æ¯”è¼ƒæ¨è–¦ç”¨ <strong>Install from source (<code>git clone</code>)</strong>ï¼Œå› ç‚ºå¤§éƒ¨åˆ†çš„ Blog æ•™å­¸éƒ½æ˜¯ä»¥é€™å€‹ç‚ºåŸºç¤ä¾†åšé…ç½®ã€‚è‹¥ä½¿ç”¨ <code>npm install</code>ï¼ŒIcarus æœƒè¢«ç•¶ä½œ NPM package ä¾†å®‰è£ï¼Œè³‡æ–™å¤¾çµæ§‹æœƒé•·å¾—è·Ÿ <code>git clone</code> ä¸å¤ªä¸€æ¨£ï¼Œç™¼ç”Ÿå•é¡Œä¹Ÿæ¯”è¼ƒå°‘è³‡æºå¯ä»¥æŸ¥è©¢ã€‚</p>\n<hr>\n<h4 id=\"3-1-ä½¿ç”¨-Install-from-source\"><a href=\"#3-1-ä½¿ç”¨-Install-from-source\" class=\"headerlink\" title=\"3-1. ä½¿ç”¨ Install from source\"></a>3-1. ä½¿ç”¨ Install from source</h4><p>å®˜æ–¹éƒ¨è½æ ¼æœ‰ä»‹ç´¹å…©ç¨®æ–¹æ³•ï¼Œé¸ä¸€ç¨®ä½¿ç”¨å°±å¥½äº†ã€‚</p>\n<p><strong>æ–¹æ³•ä¸€ï¼šç¨ç«‹çš„ repo ï¼ˆæˆ‘æ˜¯é¸é€™å€‹ï¼‰</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus --depth 1</span><br></pre></td></tr></table></figure>\n\n<p>ğŸ’¡ <strong>æç¤º:</strong>  </p>\n<ul>\n<li>è‹¥æŒ‡å®šç‰ˆæœ¬ï¼Œå¯ä½¿ç”¨ <code>-b &lt;version number&gt;</code>ï¼Œä¸æŒ‡å®šå°±æ˜¯ latest ç‰ˆæœ¬ã€‚  </li>\n<li><code>--depth 1</code> ä»£è¡¨åªä¸‹è¼‰æœ€æ–°çš„ commitï¼Œä¸åŒ…å«å®Œæ•´çš„ commit æ­·å²ã€‚  </li>\n<li>ä½¿ç”¨é€™å€‹æ–¹æ³•å¾Œï¼Œé ˆé€é <code>git rm --cached themes/icarus</code> ç§»é™¤åµŒå¥—çš„ git repoï¼Œä¹‹å¾Œä½¿ç”¨ <code>git add .</code> æ‰ä¸æœƒå‡ºç¾éŒ¯èª¤è¨Šæ¯ã€‚</li>\n</ul>\n<hr>\n<p><strong>æ–¹æ³•äºŒï¼šåŠ å…¥ç‚º submodule</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git submodule add https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus</span><br></pre></td></tr></table></figure>\n\n<p>ğŸ’¡ <strong>æç¤º:</strong><br>åŠ å…¥å¾Œï¼Œä½¿ç”¨ <code>git submodule status</code> å¯ä»¥çœ‹åˆ°å­æ¨¡çµ„çš„è³‡è¨Šã€‚</p>\n<hr>\n<h4 id=\"3-2-è¨­å®š-theme\"><a href=\"#3-2-è¨­å®š-theme\" class=\"headerlink\" title=\"3-2. è¨­å®š theme\"></a>3-2. è¨­å®š theme</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo config theme icarus</span><br></pre></td></tr></table></figure>\n\n<p>ğŸ’¡ <strong>æç¤º:</strong><br>é€™è·Ÿæ‰‹å‹•æ›´æ”¹æ ¹è³‡æ–™å¤¾ä¸­çš„ <code>_config.yml</code> ä¸­çš„ <code>theme: icarus</code> æ˜¯ä¸€æ¨£çš„æ„æ€ã€‚</p>\n<hr>\n<h4 id=\"3-3-ä½¿ç”¨-hexo-generate-hexo-server-æª¢æŸ¥å®‰è£æˆåŠŸ\"><a href=\"#3-3-ä½¿ç”¨-hexo-generate-hexo-server-æª¢æŸ¥å®‰è£æˆåŠŸ\" class=\"headerlink\" title=\"3-3. ä½¿ç”¨ hexo generate &amp;&amp; hexo server æª¢æŸ¥å®‰è£æˆåŠŸ\"></a>3-3. ä½¿ç”¨ <code>hexo generate &amp;&amp; hexo server</code> æª¢æŸ¥å®‰è£æˆåŠŸ</h4><p><img src=\"https://hackmd.io/_uploads/B1y8-rJYyx.png\" alt=\"image\"></p>\n<hr>\n<p>ğŸ’¡ <strong>å®‰è£éç¨‹ä¸­æœ‰é‡åˆ°å•é¡Œ:</strong><br>è¦‹é€™ç¯‡ <a href=\"https://github.com/ppoffice/hexo-theme-icarus/issues/1340\">GitHub Discussion</a></p>\n","excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>é–‹å§‹ç¿’æ…£äº† Markdown å¯«æ–‡ä»¶å¾Œï¼Œè¶Šä¾†è¶Šè¦ºå¾— Medium ä¸é©åˆç”¨ä¾†æ•´ç†æŠ€è¡“ç­†è¨˜ï¼Œé‚„æ˜¯å¦å°‹ç©ºé–“ï¼Œä¸¦çµ‚æ–¼åœ¨ 2025 åˆç”¨ Hexo æ¶äº†è‡ªå·±çš„ blogã€‚</p>\n<p>Hexo æœ‰å¾ˆå¤šé–‹æºä¸»é¡Œï¼ŒåŸå…ˆæˆ‘æ˜¯ç„¡è…¦è·Ÿè‘— <a href=\"https://www.facebook.com/huli.blog/posts/pfbid0iW4WWd4yw2fZYT1N7ptEkzJb2WaLqpjKARZ1eRjhfwp2Z3udfBc9SKtK46zGb5ool\">èƒ¡ç«‹ä½¿ç”¨ Minos é€™å€‹ä¸»é¡Œ</a>ï¼Œä½†å¾Œä¾†ç™¼ç¾å®‰è£éç¨‹å‡ºç¾å•é¡Œï¼Œä¸” <a href=\"https://github.com/ppoffice/hexo-theme-minos\">Minos çš„ GitHub</a> ä¹Ÿåœ¨ 2022 å¹´é€²å…¥ read-only ç‹€æ…‹ï¼Œä¸é–‹æ”¾æ issueï¼Œæ±ºå®šè½‰å‘å…¶ä»–é‚„åœ¨ç¶­è­·ä¸­çš„ themeã€‚</p>\n<p>ç›®å‰æœ€ç†±é–€çš„ Hexo ä¸»é¡Œé™¤äº† <a href=\"https://github.com/theme-next/hexo-theme-next\">NexT</a> ä»¥å¤–ï¼Œä¹Ÿçœ‹åˆ°æœ‰äººåœ¨æ¨è–¦ä½¿ç”¨ <a href=\"https://github.com/ppoffice/hexo-theme-icarus\">Icarus</a>ã€‚å¾Œè€…çš„æ˜Ÿæ˜Ÿæ•¸æ²’æœ‰ NexT é‚£éº¼é«˜ï¼Œä»¥é †çœ¼ç¨‹åº¦ä¾†èªªæˆ‘é‚„æ˜¯é¸æ“‡äº† Icarusã€‚</p>\n<hr>\n<h2 id=\"æµç¨‹\"><a href=\"#æµç¨‹\" class=\"headerlink\" title=\"æµç¨‹\"></a>æµç¨‹</h2><p>æ¥ä¸‹ä¾†ç´€éŒ„æˆ‘çš„æ¶ç«™éç¨‹ã€‚è«‹è¨˜å¾—ç”¨ <code>node -v</code>, <code>npm -v</code> è·Ÿ <code>git</code> æª¢æŸ¥å·¥å…·æ˜¯å¦å·²ç¶“å®‰è£å¥½ï¼Œå†é€²è¡Œå¾ŒçºŒæ­¥é©Ÿã€‚</p>\n<hr>\n<h3 id=\"1-å®‰è£-Hexo\"><a href=\"#1-å®‰è£-Hexo\" class=\"headerlink\" title=\"1. å®‰è£ Hexo\"></a>1. å®‰è£ Hexo</h3><h4 id=\"1-1-å…¨å±€å®‰è£-hexo-cli\"><a href=\"#1-1-å…¨å±€å®‰è£-hexo-cli\" class=\"headerlink\" title=\"1-1. å…¨å±€å®‰è£ hexo-cli\"></a>1-1. å…¨å±€å®‰è£ hexo-cli</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n\n<p>ğŸ’¡ <strong>æç¤º:</strong><br>Mac ä½¿ç”¨è€…å¯ä»¥ç”¨ <code>npm list -g --depth=0</code> çœ‹åˆ°å·²ç¶“è¢«å…¨å±€å®‰è£ã€‚</p>\n<hr>\n<h4 id=\"1-2-å®‰è£-Hexo\"><a href=\"#1-2-å®‰è£-Hexo\" class=\"headerlink\" title=\"1-2. å®‰è£ Hexo\"></a>1-2. å®‰è£ Hexo</h4><p>å°‡ <code>&lt;folder&gt;</code> æ›æˆè‡ªå·±æƒ³è¦çš„åç¨±ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init &lt;folder&gt;</span><br><span class=\"line\"><span class=\"built_in\">cd</span> &lt;folder&gt;</span><br><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h4 id=\"1-3-æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆ\"><a href=\"#1-3-æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆ\" class=\"headerlink\" title=\"1-3. æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆ\"></a>1-3. æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆ</h4><p>ç”¨ <code>hexo server</code> æˆ– <code>hexo s</code> ä¸¦åˆ° <a href=\"http://localhost:4000/\">http://localhost:4000</a> æª¢æŸ¥ï¼Œç•¶çœ‹åˆ°é è¨­çš„ç¶²ç«™é…ç½®ï¼Œä»£è¡¨å®‰è£å®Œæˆã€‚</p>\n<p><img src=\"/img/How-to-create-a-Hexo-Icarus-Blog-1.png\" alt=\"åœ–ç‰‡\"></p>\n<hr>\n<h3 id=\"2-æ¨é€è‡³é ç«¯-Git-Repo\"><a href=\"#2-æ¨é€è‡³é ç«¯-Git-Repo\" class=\"headerlink\" title=\"2. æ¨é€è‡³é ç«¯ Git Repo\"></a>2. æ¨é€è‡³é ç«¯ Git Repo</h3><p>åˆ°é€™ç‚ºæ­¢ï¼Œå¯ä»¥åœ¨ GitHub å»ºç«‹å€‹äºº repo ä¸¦ä¸”æ¨é€ã€‚<br>å¿…é ˆè¨­ç‚ºå…¬é–‹æ‰èƒ½åŠ å…¥ Discussion ç•™è¨€ç‰ˆåŠŸèƒ½ã€‚</p>\n<hr>\n<h3 id=\"3-å®‰è£-Icarus-ä¸»é¡Œ\"><a href=\"#3-å®‰è£-Icarus-ä¸»é¡Œ\" class=\"headerlink\" title=\"3. å®‰è£ Icarus ä¸»é¡Œ\"></a>3. å®‰è£ Icarus ä¸»é¡Œ</h3><p>Icarus å®˜æ–¹ Blog <a href=\"https://ppoffice.github.io/hexo-theme-icarus/uncategorized/getting-started-with-icarus/\">â€œGetting Started with Icarusâ€</a> (<a href=\"https://ppoffice.github.io/hexo-theme-icarus/uncategorized/icarus%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/\">ä¸­æ–‡ç‰ˆ</a>) æä¾›å…©ç¨®å®‰è£æ–¹å¼: Install from source æˆ– Install via NPMã€‚</p>\n<p>æˆ‘æ¯”è¼ƒæ¨è–¦ç”¨ <strong>Install from source (<code>git clone</code>)</strong>ï¼Œå› ç‚ºå¤§éƒ¨åˆ†çš„ Blog æ•™å­¸éƒ½æ˜¯ä»¥é€™å€‹ç‚ºåŸºç¤ä¾†åšé…ç½®ã€‚è‹¥ä½¿ç”¨ <code>npm install</code>ï¼ŒIcarus æœƒè¢«ç•¶ä½œ NPM package ä¾†å®‰è£ï¼Œè³‡æ–™å¤¾çµæ§‹æœƒé•·å¾—è·Ÿ <code>git clone</code> ä¸å¤ªä¸€æ¨£ï¼Œç™¼ç”Ÿå•é¡Œä¹Ÿæ¯”è¼ƒå°‘è³‡æºå¯ä»¥æŸ¥è©¢ã€‚</p>\n<hr>\n<h4 id=\"3-1-ä½¿ç”¨-Install-from-source\"><a href=\"#3-1-ä½¿ç”¨-Install-from-source\" class=\"headerlink\" title=\"3-1. ä½¿ç”¨ Install from source\"></a>3-1. ä½¿ç”¨ Install from source</h4><p>å®˜æ–¹éƒ¨è½æ ¼æœ‰ä»‹ç´¹å…©ç¨®æ–¹æ³•ï¼Œé¸ä¸€ç¨®ä½¿ç”¨å°±å¥½äº†ã€‚</p>\n<p><strong>æ–¹æ³•ä¸€ï¼šç¨ç«‹çš„ repo ï¼ˆæˆ‘æ˜¯é¸é€™å€‹ï¼‰</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus --depth 1</span><br></pre></td></tr></table></figure>\n\n<p>ğŸ’¡ <strong>æç¤º:</strong>  </p>\n<ul>\n<li>è‹¥æŒ‡å®šç‰ˆæœ¬ï¼Œå¯ä½¿ç”¨ <code>-b &lt;version number&gt;</code>ï¼Œä¸æŒ‡å®šå°±æ˜¯ latest ç‰ˆæœ¬ã€‚  </li>\n<li><code>--depth 1</code> ä»£è¡¨åªä¸‹è¼‰æœ€æ–°çš„ commitï¼Œä¸åŒ…å«å®Œæ•´çš„ commit æ­·å²ã€‚  </li>\n<li>ä½¿ç”¨é€™å€‹æ–¹æ³•å¾Œï¼Œé ˆé€é <code>git rm --cached themes/icarus</code> ç§»é™¤åµŒå¥—çš„ git repoï¼Œä¹‹å¾Œä½¿ç”¨ <code>git add .</code> æ‰ä¸æœƒå‡ºç¾éŒ¯èª¤è¨Šæ¯ã€‚</li>\n</ul>\n<hr>\n<p><strong>æ–¹æ³•äºŒï¼šåŠ å…¥ç‚º submodule</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git submodule add https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus</span><br></pre></td></tr></table></figure>\n\n<p>ğŸ’¡ <strong>æç¤º:</strong><br>åŠ å…¥å¾Œï¼Œä½¿ç”¨ <code>git submodule status</code> å¯ä»¥çœ‹åˆ°å­æ¨¡çµ„çš„è³‡è¨Šã€‚</p>\n<hr>\n<h4 id=\"3-2-è¨­å®š-theme\"><a href=\"#3-2-è¨­å®š-theme\" class=\"headerlink\" title=\"3-2. è¨­å®š theme\"></a>3-2. è¨­å®š theme</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo config theme icarus</span><br></pre></td></tr></table></figure>\n\n<p>ğŸ’¡ <strong>æç¤º:</strong><br>é€™è·Ÿæ‰‹å‹•æ›´æ”¹æ ¹è³‡æ–™å¤¾ä¸­çš„ <code>_config.yml</code> ä¸­çš„ <code>theme: icarus</code> æ˜¯ä¸€æ¨£çš„æ„æ€ã€‚</p>\n<hr>\n<h4 id=\"3-3-ä½¿ç”¨-hexo-generate-hexo-server-æª¢æŸ¥å®‰è£æˆåŠŸ\"><a href=\"#3-3-ä½¿ç”¨-hexo-generate-hexo-server-æª¢æŸ¥å®‰è£æˆåŠŸ\" class=\"headerlink\" title=\"3-3. ä½¿ç”¨ hexo generate &amp;&amp; hexo server æª¢æŸ¥å®‰è£æˆåŠŸ\"></a>3-3. ä½¿ç”¨ <code>hexo generate &amp;&amp; hexo server</code> æª¢æŸ¥å®‰è£æˆåŠŸ</h4><p><img src=\"https://hackmd.io/_uploads/B1y8-rJYyx.png\" alt=\"image\"></p>\n<hr>\n<p>ğŸ’¡ <strong>å®‰è£éç¨‹ä¸­æœ‰é‡åˆ°å•é¡Œ:</strong><br>è¦‹é€™ç¯‡ <a href=\"https://github.com/ppoffice/hexo-theme-icarus/issues/1340\">GitHub Discussion</a></p>\n"},{"title":"ç”¨ Vue Directive ç®¡ç†è§’è‰²æ¬Šé™","date":"2025-03-11T07:43:58.000Z","_content":"\n### å‰è¨€\næœ€è¿‘åœ¨å°ˆæ¡ˆé‡åˆ°çš„éœ€æ±‚æ˜¯ä¾ç…§è§’è‰²åˆ†é…ä¸åŒæ¬Šé™ï¼Œä¸¦ä¾ç…§æ¬Šé™é¡¯ç¤ºç›¸æ‡‰åŠŸèƒ½ã€‚\n\nrole çš„å€¼æ˜¯åœ¨ login å¾Œï¼Œå¾å¾Œç«¯å›å‚³ response å–å¾—ä¸¦å­˜åœ¨ localStorageï¼Œç”¨ Store ä¾†ç®¡ç†è§’è‰²ç‹€æ…‹ã€‚\n\nåŸæœ¬æˆ‘æ˜¯åœ¨é é¢ä¸Šä½¿ç”¨ computed ä¾†åŠæ™‚å¾ store ç²å¾—è§’è‰²å€¼ï¼Œç„¶å¾Œå†ç”¨ `v-if` æ§åˆ¶æ˜¯å¦é¡¯ç¤ºã€‚ä½†å¾Œä¾†ç™¼ç¾æ›´å¥½çš„å¯«æ³•ï¼æ–¼æ˜¯åšæ­¤ç´€éŒ„ã€‚å¦‚æœæœ‰æœ‹å‹æœ‰æ›´å¥½çš„åšæ³•æ­¡è¿åˆ†äº«~\n\n\n**å‚™è¨»: ä»¥ä¸‹ç¨‹å¼ç¢¼éƒ½ç¶“éè™•ç†ï¼Œæ²’æœ‰ç›´æ¥å°‡å°ˆæ¡ˆç¨‹å¼ç¢¼è¤‡è£½è²¼ä¸Šã€‚åªæ˜¯è¦å‚³é”åšæ³•ï¼Œè«‹ä¾ç…§å„è‡ªå°ˆæ¡ˆå†å»é…ç½®ã€‚**\n\n## åŸæœ¬çš„æ–¹æ³•: `v-if`\n\n- åœ¨ userStore é€é localStorage å­˜å– Role è§’è‰²:\n\n```javascript=\nimport { computed, ref } from \"vue\";\nimport { defineStore } from \"pinia\";\n\nexport const useUserStore = defineStore(\"user\", () => {\n\n  /** ä½¿ç”¨è€…è³‡è¨Š */\n  const userInfo = ref({\n    role: localStorage.getItem(\"userRole\") || \"\",\n  });\n\n  return { isLoggedIn, userInfo };\n});\n```\n\n\n- åœ¨ utils å»ºç«‹ hasRole æ–¹æ³•:\n```javascript!=\nimport { storeToRefs } from 'pinia';\nimport { useUserStore } from '@/store/modules/user';\n\nconst userStore = useUserStore();\nconst { userInfo } = storeToRefs(userStore);\n\nexport const hasRole = (role: Role): boolean => {\n  const userRole = userInfo.value.role;\n  return role === userRole;\n};\n```\n\n- åœ¨ views å¼•å…¥ hasRole æ–¹æ³•ï¼Œåˆ¤æ–·æ˜¯å¦ç‚ºæŸè§’è‰²ï¼Œtemplate å€åŸŸç”¨ v-if ä¾†æ±ºå®šé¡¯ç¤ºè©²çµ„ä»¶é¡¯ç¤ºèˆ‡å¦ã€‚\n\n```html=\n<template>\n <MyButton v-if='!isPM'>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport { hasRole } from '@/utils/role';\n\nconst isPM = computed(() => hasRole('PM'));\n</script>\n```\n\n### ç¼ºé»\n- å¦‚æœå¤šå‡ºä¸€å€‹è§’è‰²ï¼Œå°±è¦å†å¯«ä¸€å€‹ `computed`ã€‚è§’è‰²ç®¡ç†å››æ•£åœ¨ä¸åŒçš„ views æª”æ¡ˆä¸­ã€‚\n- `v-if` å¯«æ³•è¼ƒç„¡åˆ¤åˆ¥æ€§ï¼Œé›£ä»¥å³æ™‚æ’æŸ¥ã€‚\n\n----\n\n## ä½¿ç”¨ Directive å¯«æ³•\n\né™¤äº† Vue åŸæœ¬æä¾›çš„ `v-if`, `v-show` ç­‰ä½œæ³•ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥è‡ªå·±å®šç¾© `v-` èªæ³•ã€‚\n\n### ä»€éº¼æƒ…å¢ƒé©åˆ\n- è™•ç†é‡è¤‡çš„å·¥ä½œï¼Œä¾‹å¦‚æˆ‘åœ¨ä¸åŒçµ„ä»¶ä¸Šè¦ä¾ç…§è§’è‰²é¡¯ç¤ºåŠŸèƒ½\n- å¯å…¨å±€è¨»å†Šä¸¦å¥—ç”¨åœ¨ DOM ä¸Šä½¿ç”¨\n- å¯æŒ‡å®šç”Ÿå‘½é€±æœŸ(ä¾‹å¦‚ `mounted`) \n\n### æœ€çµ‚ç›®æ¨™\n\nåªè¦åœ¨ views çš„ components åŠ ä¸Š `v-hide-for=\"['PM', 'RD']\"`ï¼Œåªè¦ç”¨é€™å…©ç¨®è§’è‰²ç™»å…¥ï¼Œå°±ç„¡æ³•çœ‹åˆ°é€™å€‹çµ„ä»¶ã€‚å…¨å±€é€šç”¨ï¼Œä¸”ä¸éœ€è¦é¡å¤–åœ¨  `<script setup>`å®šç¾©ã€‚\n\n\n```html=\n<PrimaryButton\n  v-hide-for=\"['PM', 'RD']\"`\n/>\n```\n\n### å„ªé»\n- é‚è¼¯éƒ½æ”¾åœ¨ directives é›†ä¸­è™•ç†ï¼Œæ¯”è¼ƒå¥½ç¶­è­·è·Ÿæ“´å……\n- ä¸ç”¨åœ¨æ¯å€‹ views éƒ½ç”¨ `computed` å®šç¾©ï¼Œè€Œæ˜¯å…¨å±€é€šç”¨\n- çœ‹èµ·ä¾†ç›´è¦ºå¤šäº†! \n\n### å®˜æ–¹æ–‡ä»¶ [ref](https://zh-hk.vuejs.org/guide/reusability/custom-directives#directive-hooks)\n\n```javascript=\nconst myDirective = {\n  // åœ¨ç¶å®šå…ƒç´ çš„çˆ¶çµ„ä»¶\n  // åŠä»–è‡ªå·±çš„æ‰€æœ‰å­ç¯€é»éƒ½æ›è¼‰å®Œæˆå¾Œèª¿ç”¨\n  mounted(el, binding, vnode, prevVnode) {},\n}\n```\n\n**åƒæ•¸(éƒ½æ˜¯å¯é¸çš„)**\n- elï¼šæŒ‡ä»¤ç¶å®šåˆ°çš„å…ƒç´ ã€‚é€™å¯ä»¥ç”¨æ–¼ç›´æ¥æ“ä½œ DOMã€‚\n- bindingï¼šä¸€å€‹å°è±¡ï¼ŒåŒ…å«å„ç¨®å±¬æ€§ï¼Œæˆ‘ä½¿ç”¨çš„å°±æ˜¯ valueï¼šå‚³éçµ¦æŒ‡ä»¤çš„å€¼ã€‚\n\n### å¯¦éš›ä½œæ³•\n\n1. åœ¨ src è³‡æ–™å¤¾å‰µé€  `directives` è³‡æ–™å¤¾ï¼Œå‰µé€  hideFor.ts æ–‡ä»¶\n\n```javascript=\nimport type { Directive } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport { useUserStore } from '@/store/modules/user';\n\nconst hideForDirective: Directive = {\n  mounted(el, binding) {\n    const userStore = useUserStore();\n    const { userInfo } = storeToRefs(userStore);\n    const excludedRoles = binding.value;\n\n    if (excludedRoles.includes(userInfo.value.role)) {\n      el.parentNode?.removeChild(el);\n    }\n  }\n};\n\nexport default hideForDirective;\n\n```\n\n\n2. åœ¨ main.ts åšå…¨å±€è¨»å†Š\n```javascript=\nimport hideForDirective from '@/directives/hideFor';\nimport App from './App.vue';\n\nasync function setupApp() {\n  const app = createApp(App);\n\n  setupStore(app);\n    \n  app.directive('hideFor', hideForDirective);\n\n  app.mount('#app');\n}\n\nsetupApp();\n```\n\n3. éš±è—ä½ æƒ³éš±è—çš„å§!\n\nåœ¨ views çš„çµ„ä»¶ä¸ŠåŠ  `v-hide-for=\"['PM']\"`ï¼Œç„¶å¾Œç•¶æˆ‘ç”¨ 'PM' çš„è§’è‰²ç™»å…¥å¾Œï¼Œæˆ‘å°±çœ‹ä¸åˆ°é€™å€‹ Button åš•ã€‚\n\n```html=\n<PrimaryButton\n  v-hide-for=\"['PM']\"`\n/>","source":"_posts/ç”¨-Vue-Directive-ç®¡ç†è§’è‰²æ¬Šé™.md","raw":"---\ntitle: ç”¨ Vue Directive ç®¡ç†è§’è‰²æ¬Šé™\ndate: 2025-03-11 15:43:58\ntags: \n  - directive\n  - vue\n---\n\n### å‰è¨€\næœ€è¿‘åœ¨å°ˆæ¡ˆé‡åˆ°çš„éœ€æ±‚æ˜¯ä¾ç…§è§’è‰²åˆ†é…ä¸åŒæ¬Šé™ï¼Œä¸¦ä¾ç…§æ¬Šé™é¡¯ç¤ºç›¸æ‡‰åŠŸèƒ½ã€‚\n\nrole çš„å€¼æ˜¯åœ¨ login å¾Œï¼Œå¾å¾Œç«¯å›å‚³ response å–å¾—ä¸¦å­˜åœ¨ localStorageï¼Œç”¨ Store ä¾†ç®¡ç†è§’è‰²ç‹€æ…‹ã€‚\n\nåŸæœ¬æˆ‘æ˜¯åœ¨é é¢ä¸Šä½¿ç”¨ computed ä¾†åŠæ™‚å¾ store ç²å¾—è§’è‰²å€¼ï¼Œç„¶å¾Œå†ç”¨ `v-if` æ§åˆ¶æ˜¯å¦é¡¯ç¤ºã€‚ä½†å¾Œä¾†ç™¼ç¾æ›´å¥½çš„å¯«æ³•ï¼æ–¼æ˜¯åšæ­¤ç´€éŒ„ã€‚å¦‚æœæœ‰æœ‹å‹æœ‰æ›´å¥½çš„åšæ³•æ­¡è¿åˆ†äº«~\n\n\n**å‚™è¨»: ä»¥ä¸‹ç¨‹å¼ç¢¼éƒ½ç¶“éè™•ç†ï¼Œæ²’æœ‰ç›´æ¥å°‡å°ˆæ¡ˆç¨‹å¼ç¢¼è¤‡è£½è²¼ä¸Šã€‚åªæ˜¯è¦å‚³é”åšæ³•ï¼Œè«‹ä¾ç…§å„è‡ªå°ˆæ¡ˆå†å»é…ç½®ã€‚**\n\n## åŸæœ¬çš„æ–¹æ³•: `v-if`\n\n- åœ¨ userStore é€é localStorage å­˜å– Role è§’è‰²:\n\n```javascript=\nimport { computed, ref } from \"vue\";\nimport { defineStore } from \"pinia\";\n\nexport const useUserStore = defineStore(\"user\", () => {\n\n  /** ä½¿ç”¨è€…è³‡è¨Š */\n  const userInfo = ref({\n    role: localStorage.getItem(\"userRole\") || \"\",\n  });\n\n  return { isLoggedIn, userInfo };\n});\n```\n\n\n- åœ¨ utils å»ºç«‹ hasRole æ–¹æ³•:\n```javascript!=\nimport { storeToRefs } from 'pinia';\nimport { useUserStore } from '@/store/modules/user';\n\nconst userStore = useUserStore();\nconst { userInfo } = storeToRefs(userStore);\n\nexport const hasRole = (role: Role): boolean => {\n  const userRole = userInfo.value.role;\n  return role === userRole;\n};\n```\n\n- åœ¨ views å¼•å…¥ hasRole æ–¹æ³•ï¼Œåˆ¤æ–·æ˜¯å¦ç‚ºæŸè§’è‰²ï¼Œtemplate å€åŸŸç”¨ v-if ä¾†æ±ºå®šé¡¯ç¤ºè©²çµ„ä»¶é¡¯ç¤ºèˆ‡å¦ã€‚\n\n```html=\n<template>\n <MyButton v-if='!isPM'>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport { hasRole } from '@/utils/role';\n\nconst isPM = computed(() => hasRole('PM'));\n</script>\n```\n\n### ç¼ºé»\n- å¦‚æœå¤šå‡ºä¸€å€‹è§’è‰²ï¼Œå°±è¦å†å¯«ä¸€å€‹ `computed`ã€‚è§’è‰²ç®¡ç†å››æ•£åœ¨ä¸åŒçš„ views æª”æ¡ˆä¸­ã€‚\n- `v-if` å¯«æ³•è¼ƒç„¡åˆ¤åˆ¥æ€§ï¼Œé›£ä»¥å³æ™‚æ’æŸ¥ã€‚\n\n----\n\n## ä½¿ç”¨ Directive å¯«æ³•\n\né™¤äº† Vue åŸæœ¬æä¾›çš„ `v-if`, `v-show` ç­‰ä½œæ³•ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥è‡ªå·±å®šç¾© `v-` èªæ³•ã€‚\n\n### ä»€éº¼æƒ…å¢ƒé©åˆ\n- è™•ç†é‡è¤‡çš„å·¥ä½œï¼Œä¾‹å¦‚æˆ‘åœ¨ä¸åŒçµ„ä»¶ä¸Šè¦ä¾ç…§è§’è‰²é¡¯ç¤ºåŠŸèƒ½\n- å¯å…¨å±€è¨»å†Šä¸¦å¥—ç”¨åœ¨ DOM ä¸Šä½¿ç”¨\n- å¯æŒ‡å®šç”Ÿå‘½é€±æœŸ(ä¾‹å¦‚ `mounted`) \n\n### æœ€çµ‚ç›®æ¨™\n\nåªè¦åœ¨ views çš„ components åŠ ä¸Š `v-hide-for=\"['PM', 'RD']\"`ï¼Œåªè¦ç”¨é€™å…©ç¨®è§’è‰²ç™»å…¥ï¼Œå°±ç„¡æ³•çœ‹åˆ°é€™å€‹çµ„ä»¶ã€‚å…¨å±€é€šç”¨ï¼Œä¸”ä¸éœ€è¦é¡å¤–åœ¨  `<script setup>`å®šç¾©ã€‚\n\n\n```html=\n<PrimaryButton\n  v-hide-for=\"['PM', 'RD']\"`\n/>\n```\n\n### å„ªé»\n- é‚è¼¯éƒ½æ”¾åœ¨ directives é›†ä¸­è™•ç†ï¼Œæ¯”è¼ƒå¥½ç¶­è­·è·Ÿæ“´å……\n- ä¸ç”¨åœ¨æ¯å€‹ views éƒ½ç”¨ `computed` å®šç¾©ï¼Œè€Œæ˜¯å…¨å±€é€šç”¨\n- çœ‹èµ·ä¾†ç›´è¦ºå¤šäº†! \n\n### å®˜æ–¹æ–‡ä»¶ [ref](https://zh-hk.vuejs.org/guide/reusability/custom-directives#directive-hooks)\n\n```javascript=\nconst myDirective = {\n  // åœ¨ç¶å®šå…ƒç´ çš„çˆ¶çµ„ä»¶\n  // åŠä»–è‡ªå·±çš„æ‰€æœ‰å­ç¯€é»éƒ½æ›è¼‰å®Œæˆå¾Œèª¿ç”¨\n  mounted(el, binding, vnode, prevVnode) {},\n}\n```\n\n**åƒæ•¸(éƒ½æ˜¯å¯é¸çš„)**\n- elï¼šæŒ‡ä»¤ç¶å®šåˆ°çš„å…ƒç´ ã€‚é€™å¯ä»¥ç”¨æ–¼ç›´æ¥æ“ä½œ DOMã€‚\n- bindingï¼šä¸€å€‹å°è±¡ï¼ŒåŒ…å«å„ç¨®å±¬æ€§ï¼Œæˆ‘ä½¿ç”¨çš„å°±æ˜¯ valueï¼šå‚³éçµ¦æŒ‡ä»¤çš„å€¼ã€‚\n\n### å¯¦éš›ä½œæ³•\n\n1. åœ¨ src è³‡æ–™å¤¾å‰µé€  `directives` è³‡æ–™å¤¾ï¼Œå‰µé€  hideFor.ts æ–‡ä»¶\n\n```javascript=\nimport type { Directive } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport { useUserStore } from '@/store/modules/user';\n\nconst hideForDirective: Directive = {\n  mounted(el, binding) {\n    const userStore = useUserStore();\n    const { userInfo } = storeToRefs(userStore);\n    const excludedRoles = binding.value;\n\n    if (excludedRoles.includes(userInfo.value.role)) {\n      el.parentNode?.removeChild(el);\n    }\n  }\n};\n\nexport default hideForDirective;\n\n```\n\n\n2. åœ¨ main.ts åšå…¨å±€è¨»å†Š\n```javascript=\nimport hideForDirective from '@/directives/hideFor';\nimport App from './App.vue';\n\nasync function setupApp() {\n  const app = createApp(App);\n\n  setupStore(app);\n    \n  app.directive('hideFor', hideForDirective);\n\n  app.mount('#app');\n}\n\nsetupApp();\n```\n\n3. éš±è—ä½ æƒ³éš±è—çš„å§!\n\nåœ¨ views çš„çµ„ä»¶ä¸ŠåŠ  `v-hide-for=\"['PM']\"`ï¼Œç„¶å¾Œç•¶æˆ‘ç”¨ 'PM' çš„è§’è‰²ç™»å…¥å¾Œï¼Œæˆ‘å°±çœ‹ä¸åˆ°é€™å€‹ Button åš•ã€‚\n\n```html=\n<PrimaryButton\n  v-hide-for=\"['PM']\"`\n/>","slug":"ç”¨-Vue-Directive-ç®¡ç†è§’è‰²æ¬Šé™","published":1,"updated":"2025-03-11T07:46:57.371Z","_id":"cm846qk8a0000yktkbuhw5dmw","comments":1,"layout":"post","photos":[],"content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>æœ€è¿‘åœ¨å°ˆæ¡ˆé‡åˆ°çš„éœ€æ±‚æ˜¯ä¾ç…§è§’è‰²åˆ†é…ä¸åŒæ¬Šé™ï¼Œä¸¦ä¾ç…§æ¬Šé™é¡¯ç¤ºç›¸æ‡‰åŠŸèƒ½ã€‚</p>\n<p>role çš„å€¼æ˜¯åœ¨ login å¾Œï¼Œå¾å¾Œç«¯å›å‚³ response å–å¾—ä¸¦å­˜åœ¨ localStorageï¼Œç”¨ Store ä¾†ç®¡ç†è§’è‰²ç‹€æ…‹ã€‚</p>\n<p>åŸæœ¬æˆ‘æ˜¯åœ¨é é¢ä¸Šä½¿ç”¨ computed ä¾†åŠæ™‚å¾ store ç²å¾—è§’è‰²å€¼ï¼Œç„¶å¾Œå†ç”¨ <code>v-if</code> æ§åˆ¶æ˜¯å¦é¡¯ç¤ºã€‚ä½†å¾Œä¾†ç™¼ç¾æ›´å¥½çš„å¯«æ³•ï¼æ–¼æ˜¯åšæ­¤ç´€éŒ„ã€‚å¦‚æœæœ‰æœ‹å‹æœ‰æ›´å¥½çš„åšæ³•æ­¡è¿åˆ†äº«~</p>\n<p><strong>å‚™è¨»: ä»¥ä¸‹ç¨‹å¼ç¢¼éƒ½ç¶“éè™•ç†ï¼Œæ²’æœ‰ç›´æ¥å°‡å°ˆæ¡ˆç¨‹å¼ç¢¼è¤‡è£½è²¼ä¸Šã€‚åªæ˜¯è¦å‚³é”åšæ³•ï¼Œè«‹ä¾ç…§å„è‡ªå°ˆæ¡ˆå†å»é…ç½®ã€‚</strong></p>\n<h2 id=\"åŸæœ¬çš„æ–¹æ³•-v-if\"><a href=\"#åŸæœ¬çš„æ–¹æ³•-v-if\" class=\"headerlink\" title=\"åŸæœ¬çš„æ–¹æ³•: v-if\"></a>åŸæœ¬çš„æ–¹æ³•: <code>v-if</code></h2><ul>\n<li>åœ¨ userStore é€é localStorage å­˜å– Role è§’è‰²:</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; computed, ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;pinia&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> useUserStore = <span class=\"title function_\">defineStore</span>(<span class=\"string\">&quot;user&quot;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/** ä½¿ç”¨è€…è³‡è¨Š */</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> userInfo = <span class=\"title function_\">ref</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">role</span>: <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&quot;userRole&quot;</span>) || <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; isLoggedIn, userInfo &#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li>åœ¨ utils å»ºç«‹ hasRole æ–¹æ³•:</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; storeToRefs &#125; from &#x27;pinia&#x27;;</span><br><span class=\"line\">import &#123; useUserStore &#125; from &#x27;@/store/modules/user&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">const userStore = useUserStore();</span><br><span class=\"line\">const &#123; userInfo &#125; = storeToRefs(userStore);</span><br><span class=\"line\"></span><br><span class=\"line\">export const hasRole = (role: Role): boolean =&gt; &#123;</span><br><span class=\"line\">  const userRole = userInfo.value.role;</span><br><span class=\"line\">  return role === userRole;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åœ¨ views å¼•å…¥ hasRole æ–¹æ³•ï¼Œåˆ¤æ–·æ˜¯å¦ç‚ºæŸè§’è‰²ï¼Œtemplate å€åŸŸç”¨ v-if ä¾†æ±ºå®šé¡¯ç¤ºè©²çµ„ä»¶é¡¯ç¤ºèˆ‡å¦ã€‚</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">MyButton</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&#x27;!isPM&#x27;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">setup</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;ts&quot;</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; hasRole &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/utils/role&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">const</span> isPM = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> <span class=\"title function_\">hasRole</span>(<span class=\"string\">&#x27;PM&#x27;</span>));</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç¼ºé»\"><a href=\"#ç¼ºé»\" class=\"headerlink\" title=\"ç¼ºé»\"></a>ç¼ºé»</h3><ul>\n<li>å¦‚æœå¤šå‡ºä¸€å€‹è§’è‰²ï¼Œå°±è¦å†å¯«ä¸€å€‹ <code>computed</code>ã€‚è§’è‰²ç®¡ç†å››æ•£åœ¨ä¸åŒçš„ views æª”æ¡ˆä¸­ã€‚</li>\n<li><code>v-if</code> å¯«æ³•è¼ƒç„¡åˆ¤åˆ¥æ€§ï¼Œé›£ä»¥å³æ™‚æ’æŸ¥ã€‚</li>\n</ul>\n<hr>\n<h2 id=\"ä½¿ç”¨-Directive-å¯«æ³•\"><a href=\"#ä½¿ç”¨-Directive-å¯«æ³•\" class=\"headerlink\" title=\"ä½¿ç”¨ Directive å¯«æ³•\"></a>ä½¿ç”¨ Directive å¯«æ³•</h2><p>é™¤äº† Vue åŸæœ¬æä¾›çš„ <code>v-if</code>, <code>v-show</code> ç­‰ä½œæ³•ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥è‡ªå·±å®šç¾© <code>v-</code> èªæ³•ã€‚</p>\n<h3 id=\"ä»€éº¼æƒ…å¢ƒé©åˆ\"><a href=\"#ä»€éº¼æƒ…å¢ƒé©åˆ\" class=\"headerlink\" title=\"ä»€éº¼æƒ…å¢ƒé©åˆ\"></a>ä»€éº¼æƒ…å¢ƒé©åˆ</h3><ul>\n<li>è™•ç†é‡è¤‡çš„å·¥ä½œï¼Œä¾‹å¦‚æˆ‘åœ¨ä¸åŒçµ„ä»¶ä¸Šè¦ä¾ç…§è§’è‰²é¡¯ç¤ºåŠŸèƒ½</li>\n<li>å¯å…¨å±€è¨»å†Šä¸¦å¥—ç”¨åœ¨ DOM ä¸Šä½¿ç”¨</li>\n<li>å¯æŒ‡å®šç”Ÿå‘½é€±æœŸ(ä¾‹å¦‚ <code>mounted</code>)</li>\n</ul>\n<h3 id=\"æœ€çµ‚ç›®æ¨™\"><a href=\"#æœ€çµ‚ç›®æ¨™\" class=\"headerlink\" title=\"æœ€çµ‚ç›®æ¨™\"></a>æœ€çµ‚ç›®æ¨™</h3><p>åªè¦åœ¨ views çš„ components åŠ ä¸Š <code>v-hide-for=&quot;[&#39;PM&#39;, &#39;RD&#39;]&quot;</code>ï¼Œåªè¦ç”¨é€™å…©ç¨®è§’è‰²ç™»å…¥ï¼Œå°±ç„¡æ³•çœ‹åˆ°é€™å€‹çµ„ä»¶ã€‚å…¨å±€é€šç”¨ï¼Œä¸”ä¸éœ€è¦é¡å¤–åœ¨  <code>&lt;script setup&gt;</code>å®šç¾©ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">PrimaryButton</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">v-hide-for</span>=<span class=\"string\">&quot;[&#x27;PM&#x27;, &#x27;RD&#x27;]&quot;</span>`</span></span><br><span class=\"line\"><span class=\"tag\">/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å„ªé»\"><a href=\"#å„ªé»\" class=\"headerlink\" title=\"å„ªé»\"></a>å„ªé»</h3><ul>\n<li>é‚è¼¯éƒ½æ”¾åœ¨ directives é›†ä¸­è™•ç†ï¼Œæ¯”è¼ƒå¥½ç¶­è­·è·Ÿæ“´å……</li>\n<li>ä¸ç”¨åœ¨æ¯å€‹ views éƒ½ç”¨ <code>computed</code> å®šç¾©ï¼Œè€Œæ˜¯å…¨å±€é€šç”¨</li>\n<li>çœ‹èµ·ä¾†ç›´è¦ºå¤šäº†!</li>\n</ul>\n<h3 id=\"å®˜æ–¹æ–‡ä»¶-ref\"><a href=\"#å®˜æ–¹æ–‡ä»¶-ref\" class=\"headerlink\" title=\"å®˜æ–¹æ–‡ä»¶ ref\"></a>å®˜æ–¹æ–‡ä»¶ <a href=\"https://zh-hk.vuejs.org/guide/reusability/custom-directives#directive-hooks\">ref</a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> myDirective = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// åœ¨ç¶å®šå…ƒç´ çš„çˆ¶çµ„ä»¶</span></span><br><span class=\"line\">  <span class=\"comment\">// åŠä»–è‡ªå·±çš„æ‰€æœ‰å­ç¯€é»éƒ½æ›è¼‰å®Œæˆå¾Œèª¿ç”¨</span></span><br><span class=\"line\">  <span class=\"title function_\">mounted</span>(<span class=\"params\">el, binding, vnode, prevVnode</span>) &#123;&#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>åƒæ•¸(éƒ½æ˜¯å¯é¸çš„)</strong></p>\n<ul>\n<li>elï¼šæŒ‡ä»¤ç¶å®šåˆ°çš„å…ƒç´ ã€‚é€™å¯ä»¥ç”¨æ–¼ç›´æ¥æ“ä½œ DOMã€‚</li>\n<li>bindingï¼šä¸€å€‹å°è±¡ï¼ŒåŒ…å«å„ç¨®å±¬æ€§ï¼Œæˆ‘ä½¿ç”¨çš„å°±æ˜¯ valueï¼šå‚³éçµ¦æŒ‡ä»¤çš„å€¼ã€‚</li>\n</ul>\n<h3 id=\"å¯¦éš›ä½œæ³•\"><a href=\"#å¯¦éš›ä½œæ³•\" class=\"headerlink\" title=\"å¯¦éš›ä½œæ³•\"></a>å¯¦éš›ä½œæ³•</h3><ol>\n<li>åœ¨ src è³‡æ–™å¤¾å‰µé€  <code>directives</code> è³‡æ–™å¤¾ï¼Œå‰µé€  hideFor.ts æ–‡ä»¶</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> type &#123; <span class=\"title class_\">Directive</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; storeToRefs &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;pinia&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; useUserStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/store/modules/user&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">hideForDirective</span>: <span class=\"title class_\">Directive</span> = &#123;</span><br><span class=\"line\">  <span class=\"title function_\">mounted</span>(<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> userStore = <span class=\"title function_\">useUserStore</span>();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; userInfo &#125; = <span class=\"title function_\">storeToRefs</span>(userStore);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> excludedRoles = binding.<span class=\"property\">value</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (excludedRoles.<span class=\"title function_\">includes</span>(userInfo.<span class=\"property\">value</span>.<span class=\"property\">role</span>)) &#123;</span><br><span class=\"line\">      el.<span class=\"property\">parentNode</span>?.<span class=\"title function_\">removeChild</span>(el);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> hideForDirective;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<ol start=\"2\">\n<li>åœ¨ main.ts åšå…¨å±€è¨»å†Š</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> hideForDirective <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/directives/hideFor&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./App.vue&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">setupApp</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>(<span class=\"title class_\">App</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">setupStore</span>(app);</span><br><span class=\"line\">    </span><br><span class=\"line\">  app.<span class=\"title function_\">directive</span>(<span class=\"string\">&#x27;hideFor&#x27;</span>, hideForDirective);</span><br><span class=\"line\"></span><br><span class=\"line\">  app.<span class=\"title function_\">mount</span>(<span class=\"string\">&#x27;#app&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">setupApp</span>();</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>éš±è—ä½ æƒ³éš±è—çš„å§!</li>\n</ol>\n<p>åœ¨ views çš„çµ„ä»¶ä¸ŠåŠ  <code>v-hide-for=&quot;[&#39;PM&#39;]&quot;</code>ï¼Œç„¶å¾Œç•¶æˆ‘ç”¨ â€˜PMâ€™ çš„è§’è‰²ç™»å…¥å¾Œï¼Œæˆ‘å°±çœ‹ä¸åˆ°é€™å€‹ Button åš•ã€‚</p>\n<pre><code class=\"language-html=\">&lt;PrimaryButton\n  v-hide-for=&quot;[&#39;PM&#39;]&quot;`\n/&gt;\n</code></pre>\n","excerpt":"","more":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>æœ€è¿‘åœ¨å°ˆæ¡ˆé‡åˆ°çš„éœ€æ±‚æ˜¯ä¾ç…§è§’è‰²åˆ†é…ä¸åŒæ¬Šé™ï¼Œä¸¦ä¾ç…§æ¬Šé™é¡¯ç¤ºç›¸æ‡‰åŠŸèƒ½ã€‚</p>\n<p>role çš„å€¼æ˜¯åœ¨ login å¾Œï¼Œå¾å¾Œç«¯å›å‚³ response å–å¾—ä¸¦å­˜åœ¨ localStorageï¼Œç”¨ Store ä¾†ç®¡ç†è§’è‰²ç‹€æ…‹ã€‚</p>\n<p>åŸæœ¬æˆ‘æ˜¯åœ¨é é¢ä¸Šä½¿ç”¨ computed ä¾†åŠæ™‚å¾ store ç²å¾—è§’è‰²å€¼ï¼Œç„¶å¾Œå†ç”¨ <code>v-if</code> æ§åˆ¶æ˜¯å¦é¡¯ç¤ºã€‚ä½†å¾Œä¾†ç™¼ç¾æ›´å¥½çš„å¯«æ³•ï¼æ–¼æ˜¯åšæ­¤ç´€éŒ„ã€‚å¦‚æœæœ‰æœ‹å‹æœ‰æ›´å¥½çš„åšæ³•æ­¡è¿åˆ†äº«~</p>\n<p><strong>å‚™è¨»: ä»¥ä¸‹ç¨‹å¼ç¢¼éƒ½ç¶“éè™•ç†ï¼Œæ²’æœ‰ç›´æ¥å°‡å°ˆæ¡ˆç¨‹å¼ç¢¼è¤‡è£½è²¼ä¸Šã€‚åªæ˜¯è¦å‚³é”åšæ³•ï¼Œè«‹ä¾ç…§å„è‡ªå°ˆæ¡ˆå†å»é…ç½®ã€‚</strong></p>\n<h2 id=\"åŸæœ¬çš„æ–¹æ³•-v-if\"><a href=\"#åŸæœ¬çš„æ–¹æ³•-v-if\" class=\"headerlink\" title=\"åŸæœ¬çš„æ–¹æ³•: v-if\"></a>åŸæœ¬çš„æ–¹æ³•: <code>v-if</code></h2><ul>\n<li>åœ¨ userStore é€é localStorage å­˜å– Role è§’è‰²:</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; computed, ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;pinia&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> useUserStore = <span class=\"title function_\">defineStore</span>(<span class=\"string\">&quot;user&quot;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/** ä½¿ç”¨è€…è³‡è¨Š */</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> userInfo = <span class=\"title function_\">ref</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">role</span>: <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&quot;userRole&quot;</span>) || <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; isLoggedIn, userInfo &#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li>åœ¨ utils å»ºç«‹ hasRole æ–¹æ³•:</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; storeToRefs &#125; from &#x27;pinia&#x27;;</span><br><span class=\"line\">import &#123; useUserStore &#125; from &#x27;@/store/modules/user&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">const userStore = useUserStore();</span><br><span class=\"line\">const &#123; userInfo &#125; = storeToRefs(userStore);</span><br><span class=\"line\"></span><br><span class=\"line\">export const hasRole = (role: Role): boolean =&gt; &#123;</span><br><span class=\"line\">  const userRole = userInfo.value.role;</span><br><span class=\"line\">  return role === userRole;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åœ¨ views å¼•å…¥ hasRole æ–¹æ³•ï¼Œåˆ¤æ–·æ˜¯å¦ç‚ºæŸè§’è‰²ï¼Œtemplate å€åŸŸç”¨ v-if ä¾†æ±ºå®šé¡¯ç¤ºè©²çµ„ä»¶é¡¯ç¤ºèˆ‡å¦ã€‚</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">MyButton</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&#x27;!isPM&#x27;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">setup</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;ts&quot;</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; hasRole &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/utils/role&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">const</span> isPM = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> <span class=\"title function_\">hasRole</span>(<span class=\"string\">&#x27;PM&#x27;</span>));</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç¼ºé»\"><a href=\"#ç¼ºé»\" class=\"headerlink\" title=\"ç¼ºé»\"></a>ç¼ºé»</h3><ul>\n<li>å¦‚æœå¤šå‡ºä¸€å€‹è§’è‰²ï¼Œå°±è¦å†å¯«ä¸€å€‹ <code>computed</code>ã€‚è§’è‰²ç®¡ç†å››æ•£åœ¨ä¸åŒçš„ views æª”æ¡ˆä¸­ã€‚</li>\n<li><code>v-if</code> å¯«æ³•è¼ƒç„¡åˆ¤åˆ¥æ€§ï¼Œé›£ä»¥å³æ™‚æ’æŸ¥ã€‚</li>\n</ul>\n<hr>\n<h2 id=\"ä½¿ç”¨-Directive-å¯«æ³•\"><a href=\"#ä½¿ç”¨-Directive-å¯«æ³•\" class=\"headerlink\" title=\"ä½¿ç”¨ Directive å¯«æ³•\"></a>ä½¿ç”¨ Directive å¯«æ³•</h2><p>é™¤äº† Vue åŸæœ¬æä¾›çš„ <code>v-if</code>, <code>v-show</code> ç­‰ä½œæ³•ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥è‡ªå·±å®šç¾© <code>v-</code> èªæ³•ã€‚</p>\n<h3 id=\"ä»€éº¼æƒ…å¢ƒé©åˆ\"><a href=\"#ä»€éº¼æƒ…å¢ƒé©åˆ\" class=\"headerlink\" title=\"ä»€éº¼æƒ…å¢ƒé©åˆ\"></a>ä»€éº¼æƒ…å¢ƒé©åˆ</h3><ul>\n<li>è™•ç†é‡è¤‡çš„å·¥ä½œï¼Œä¾‹å¦‚æˆ‘åœ¨ä¸åŒçµ„ä»¶ä¸Šè¦ä¾ç…§è§’è‰²é¡¯ç¤ºåŠŸèƒ½</li>\n<li>å¯å…¨å±€è¨»å†Šä¸¦å¥—ç”¨åœ¨ DOM ä¸Šä½¿ç”¨</li>\n<li>å¯æŒ‡å®šç”Ÿå‘½é€±æœŸ(ä¾‹å¦‚ <code>mounted</code>)</li>\n</ul>\n<h3 id=\"æœ€çµ‚ç›®æ¨™\"><a href=\"#æœ€çµ‚ç›®æ¨™\" class=\"headerlink\" title=\"æœ€çµ‚ç›®æ¨™\"></a>æœ€çµ‚ç›®æ¨™</h3><p>åªè¦åœ¨ views çš„ components åŠ ä¸Š <code>v-hide-for=&quot;[&#39;PM&#39;, &#39;RD&#39;]&quot;</code>ï¼Œåªè¦ç”¨é€™å…©ç¨®è§’è‰²ç™»å…¥ï¼Œå°±ç„¡æ³•çœ‹åˆ°é€™å€‹çµ„ä»¶ã€‚å…¨å±€é€šç”¨ï¼Œä¸”ä¸éœ€è¦é¡å¤–åœ¨  <code>&lt;script setup&gt;</code>å®šç¾©ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">PrimaryButton</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">v-hide-for</span>=<span class=\"string\">&quot;[&#x27;PM&#x27;, &#x27;RD&#x27;]&quot;</span>`</span></span><br><span class=\"line\"><span class=\"tag\">/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å„ªé»\"><a href=\"#å„ªé»\" class=\"headerlink\" title=\"å„ªé»\"></a>å„ªé»</h3><ul>\n<li>é‚è¼¯éƒ½æ”¾åœ¨ directives é›†ä¸­è™•ç†ï¼Œæ¯”è¼ƒå¥½ç¶­è­·è·Ÿæ“´å……</li>\n<li>ä¸ç”¨åœ¨æ¯å€‹ views éƒ½ç”¨ <code>computed</code> å®šç¾©ï¼Œè€Œæ˜¯å…¨å±€é€šç”¨</li>\n<li>çœ‹èµ·ä¾†ç›´è¦ºå¤šäº†!</li>\n</ul>\n<h3 id=\"å®˜æ–¹æ–‡ä»¶-ref\"><a href=\"#å®˜æ–¹æ–‡ä»¶-ref\" class=\"headerlink\" title=\"å®˜æ–¹æ–‡ä»¶ ref\"></a>å®˜æ–¹æ–‡ä»¶ <a href=\"https://zh-hk.vuejs.org/guide/reusability/custom-directives#directive-hooks\">ref</a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> myDirective = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// åœ¨ç¶å®šå…ƒç´ çš„çˆ¶çµ„ä»¶</span></span><br><span class=\"line\">  <span class=\"comment\">// åŠä»–è‡ªå·±çš„æ‰€æœ‰å­ç¯€é»éƒ½æ›è¼‰å®Œæˆå¾Œèª¿ç”¨</span></span><br><span class=\"line\">  <span class=\"title function_\">mounted</span>(<span class=\"params\">el, binding, vnode, prevVnode</span>) &#123;&#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>åƒæ•¸(éƒ½æ˜¯å¯é¸çš„)</strong></p>\n<ul>\n<li>elï¼šæŒ‡ä»¤ç¶å®šåˆ°çš„å…ƒç´ ã€‚é€™å¯ä»¥ç”¨æ–¼ç›´æ¥æ“ä½œ DOMã€‚</li>\n<li>bindingï¼šä¸€å€‹å°è±¡ï¼ŒåŒ…å«å„ç¨®å±¬æ€§ï¼Œæˆ‘ä½¿ç”¨çš„å°±æ˜¯ valueï¼šå‚³éçµ¦æŒ‡ä»¤çš„å€¼ã€‚</li>\n</ul>\n<h3 id=\"å¯¦éš›ä½œæ³•\"><a href=\"#å¯¦éš›ä½œæ³•\" class=\"headerlink\" title=\"å¯¦éš›ä½œæ³•\"></a>å¯¦éš›ä½œæ³•</h3><ol>\n<li>åœ¨ src è³‡æ–™å¤¾å‰µé€  <code>directives</code> è³‡æ–™å¤¾ï¼Œå‰µé€  hideFor.ts æ–‡ä»¶</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> type &#123; <span class=\"title class_\">Directive</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; storeToRefs &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;pinia&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; useUserStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/store/modules/user&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">hideForDirective</span>: <span class=\"title class_\">Directive</span> = &#123;</span><br><span class=\"line\">  <span class=\"title function_\">mounted</span>(<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> userStore = <span class=\"title function_\">useUserStore</span>();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; userInfo &#125; = <span class=\"title function_\">storeToRefs</span>(userStore);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> excludedRoles = binding.<span class=\"property\">value</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (excludedRoles.<span class=\"title function_\">includes</span>(userInfo.<span class=\"property\">value</span>.<span class=\"property\">role</span>)) &#123;</span><br><span class=\"line\">      el.<span class=\"property\">parentNode</span>?.<span class=\"title function_\">removeChild</span>(el);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> hideForDirective;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<ol start=\"2\">\n<li>åœ¨ main.ts åšå…¨å±€è¨»å†Š</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> hideForDirective <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/directives/hideFor&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./App.vue&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">setupApp</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>(<span class=\"title class_\">App</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">setupStore</span>(app);</span><br><span class=\"line\">    </span><br><span class=\"line\">  app.<span class=\"title function_\">directive</span>(<span class=\"string\">&#x27;hideFor&#x27;</span>, hideForDirective);</span><br><span class=\"line\"></span><br><span class=\"line\">  app.<span class=\"title function_\">mount</span>(<span class=\"string\">&#x27;#app&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">setupApp</span>();</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>éš±è—ä½ æƒ³éš±è—çš„å§!</li>\n</ol>\n<p>åœ¨ views çš„çµ„ä»¶ä¸ŠåŠ  <code>v-hide-for=&quot;[&#39;PM&#39;]&quot;</code>ï¼Œç„¶å¾Œç•¶æˆ‘ç”¨ â€˜PMâ€™ çš„è§’è‰²ç™»å…¥å¾Œï¼Œæˆ‘å°±çœ‹ä¸åˆ°é€™å€‹ Button åš•ã€‚</p>\n<pre><code class=\"language-html=\">&lt;PrimaryButton\n  v-hide-for=&quot;[&#39;PM&#39;]&quot;`\n/&gt;\n</code></pre>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cm846qk8a0000yktkbuhw5dmw","tag_id":"cm846sxmj0003yktk7xj2ednu","_id":"cm846u56w0007yktk4w3ae6u0"},{"post_id":"cm846qk8a0000yktkbuhw5dmw","tag_id":"cm846u56w0006yktk7cdd1f7d","_id":"cm846u56w0008yktk49elcg46"},{"post_id":"cm7twq1qa0000tktkcczr711d","tag_id":"cm846um4n000byktk7h0maswc","_id":"cm846um4o000cyktk8jqz28h1"},{"post_id":"cm7twq1qa0000tktkcczr711d","tag_id":"cm846undp000dyktk65q2cx5c","_id":"cm846undp000eyktk65922nqe"},{"post_id":"cm7twq1qa0000tktkcczr711d","tag_id":"cm846ury0000fyktk3sglezbg","_id":"cm846ury0000gyktk5hpp12ay"}],"Tag":[{"name":"directive, vue","_id":"cm846spya0001yktkdlykgc92"},{"name":"directive","_id":"cm846sxmj0003yktk7xj2ednu"},{"name":"vue","_id":"cm846u56w0006yktk7cdd1f7d"},{"name":"Hexo","_id":"cm846um4n000byktk7h0maswc"},{"name":"Blog","_id":"cm846undp000dyktk65q2cx5c"},{"name":"Icarus","_id":"cm846ury0000fyktk3sglezbg"}]}}